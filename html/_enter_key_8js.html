<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>singerfrance.com: src/AcmeGroup/LaboBundle/Resources/public/js/tinymce/classes/EnterKey.js File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">singerfrance.com
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e8c8e960511e2fc9a2285c26ffe103b3.html">src</a></li><li class="navelem"><a class="el" href="dir_8e24a62f8e05e1ad729af286ae0efb38.html">AcmeGroup</a></li><li class="navelem"><a class="el" href="dir_3c3da10e273bb183886e43a78fd60791.html">LaboBundle</a></li><li class="navelem"><a class="el" href="dir_69bdc8d5745e5f031f5a949defeb3fd7.html">Resources</a></li><li class="navelem"><a class="el" href="dir_a5e9f40a6b65c04710ddc86d685073d9.html">public</a></li><li class="navelem"><a class="el" href="dir_eaf7efb268cacf2520f7cf90a7c721f0.html">js</a></li><li class="navelem"><a class="el" href="dir_76ae24136a0d00551584ac5fd47b39ae.html">tinymce</a></li><li class="navelem"><a class="el" href="dir_b7a7f875a7d2baa9f52269f660e8383e.html">classes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EnterKey.js File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8e95fa45d4d85ca4fbf5dc1816aa6ecf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_enter_key_8js.html#a8e95fa45d4d85ca4fbf5dc1816aa6ecf">define</a> (&quot;tinymce/EnterKey&quot;, [&quot;<a class="el" href="legacyoutput_2plugin_8min_8js.html#a9e0c63e13122add16db57b355b91bbc8">tinymce</a>/dom/TreeWalker&quot;,&quot;<a class="el" href="legacyoutput_2plugin_8min_8js.html#a9e0c63e13122add16db57b355b91bbc8">tinymce</a>/Env&quot;], function(TreeWalker, Env){var isIE=<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a> &amp;&amp;<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a>&lt; 11;return function(editor){var dom=editor.dom, selection=editor.selection, <a class="el" href="jquery_8tooltip_8js.html#a52fb9116a07f71570fbf0bd12ff4c9f8">settings</a>=<a class="el" href="jquery_8tooltip_8js.html#a52fb9116a07f71570fbf0bd12ff4c9f8">editor.settings</a>;var undoManager=editor.undoManager, schema=editor.schema, nonEmptyElementsMap=schema.getNonEmptyElements();function handleEnterKey(evt){var rng=selection.getRng(true), tmpRng, editableRoot, container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, parentBlock, documentMode, shiftKey, newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;function canSplitBlock(node){return node &amp;&amp;dom.isBlock(node)&amp;&amp;!/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName)&amp;&amp;!/^(fixed|absolute)/i.test(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">node.style.position</a>)&amp;&amp;dom.getContentEditable(node)!==&quot;true&quot;;}function renderBlockOnIE(block){var oldRng;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(dom.isBlock(block)){oldRng=selection.getRng();<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">block.appendChild</a>(dom.create('span', <a class="el" href="validate_8js.html#afb8e110345c45e74478894341ab6b28e">null</a>, '\u00a0'));<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">selection.select</a>(block);block.lastChild.outerHTML= '';selection.setRng(oldRng);}}function trimInlineElementsOnLeftSideOfBlock(block){var node=block, firstChilds=[], <a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=node.firstChild)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(dom.isBlock(node)){return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==1 &amp;&amp;!nonEmptyElementsMap[node.nodeName.toLowerCase()]){<a class="el" href="core_8constructor_8js.html#afa3ccdb0f651abf66d93864fc8419c98">firstChilds.push</a>(node);}}<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>=firstChilds.length;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>--){node=firstChilds[<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>];<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!node.hasChildNodes()||(node.firstChild==node.lastChild &amp;&amp;node.firstChild.nodeValue=== '')){<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(node);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeName==&quot;A&quot;&amp;&amp;(node.innerText||node.textContent)=== ' '){<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(node);}}}}function moveToCaretPosition(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>){var walker, node, rng, lastNode=<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, tempElm;function firstNonWhiteSpaceNodeSibling(node){<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==1||(node.nodeType==3 &amp;&amp;<a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">node.data</a> &amp;&amp;/[\<a class="el" href="validate_8js.html#ae059f217efaf1d50696a1214c3ce5748">r\n\s</a>]/.test(<a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">node.data</a>))){return node;}node=node.nextSibling;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a> &amp;&amp;<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a>&lt; 9 &amp;&amp;parentBlock &amp;&amp;parentBlock.firstChild){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parentBlock.firstChild==parentBlock.lastChild &amp;&amp;<a class="el" href="_j_query_functions_8js.html#ad2e37063c8c2b3db869c735b88473786">parentBlock.firstChild.tagName</a>== 'BR'){<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(parentBlock.firstChild);}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.nodeName== 'LI'){var firstChild=firstNonWhiteSpaceNodeSibling(root.firstChild);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(firstChild &amp;&amp;/^(UL|OL)$/.test(firstChild.nodeName)){<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">root.insertBefore</a>(dom.doc.createTextNode('\u00a0'), root.firstChild);}}rng=dom.createRng();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.hasChildNodes()){walker=new TreeWalker(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=walker.current())){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==3){rng.setStart(node, 0);rng.setEnd(node, 0);break;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nonEmptyElementsMap[node.nodeName.toLowerCase()]){rng.setStartBefore(node);rng.setEndBefore(node);break;}lastNode=node;node=walker.next();}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!node){rng.setStart(lastNode, 0);rng.setEnd(lastNode, 0);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.nodeName== 'BR'){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.nextSibling &amp;&amp;dom.isBlock(root.nextSibling)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!documentMode||documentMode&lt; 9){tempElm=dom.create('br');<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">root.parentNode.insertBefore</a>(tempElm, <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}rng.setStartBefore(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);rng.setEndBefore(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng.setStartAfter(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);rng.setEndAfter(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng.setStart(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, 0);rng.setEnd(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, 0);}}selection.setRng(rng);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(tempElm);selection.scrollIntoView(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}function setForcedBlockAttrs(node){var forcedRootBlockName=settings.forced_root_block;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(forcedRootBlockName &amp;&amp;forcedRootBlockName.toLowerCase()===node.tagName.toLowerCase()){<a class="el" href="fullpage_2plugin_8min_8js.html#a7d161a9e201f33c20ddc045115f93fd4">dom.setAttribs</a>(node, settings.forced_root_block_attrs);}}function createNewBlock(name){var node=container, block, clonedNode, caretNode;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(name||parentBlockName==&quot;TABLE&quot;){block=dom.create(name||newBlockName);setForcedBlockAttrs(block);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{block=parentBlock.cloneNode(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);}caretNode=block;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(settings.keep_styles!==<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>){do{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(node.nodeName)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.id== '_mce_caret'){continue;}clonedNode=node.cloneNode(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);dom.setAttrib(clonedNode, 'id', '');<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(block.hasChildNodes()){<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">clonedNode.appendChild</a>(block.firstChild);<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">block.appendChild</a>(clonedNode);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{caretNode=clonedNode;<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">block.appendChild</a>(clonedNode);}}}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=node.parentNode));}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!isIE){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">caretNode.innerHTML</a>= '&lt; br <a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>-mce-bogus=&quot;1&quot;&gt;';}return block;}function isCaretAtStartOrEndOfBlock(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var walker, node, name;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3 &amp;&amp;(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>?<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt; 0:<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>&lt; container.nodeValue.length)){return <a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.parentNode==parentBlock &amp;&amp;isAfterLastNodeInContainer &amp;&amp;!<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){return true;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a> &amp;&amp;container.nodeType==1 &amp;&amp;container==parentBlock.firstChild){return true;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeName===&quot;TABLE&quot;||(container.previousSibling &amp;&amp;container.previousSibling.nodeName==&quot;TABLE&quot;)){return(isAfterLastNodeInContainer &amp;&amp;!<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>)||(!isAfterLastNodeInContainer &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);}walker=new TreeWalker(container, parentBlock);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a> &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>===0){walker.prev();}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a> &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>==container.nodeValue.length){walker.next();}}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=walker.current())){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType===1){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!node.getAttribute('<a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>-mce-bogus')){name=node.nodeName.toLowerCase();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nonEmptyElementsMap[name]&amp;&amp;name!== 'br'){return <a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;}}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType===3 &amp;&amp;!/^[\<a class="el" href="fullpage_2plugin_8min_8js.html#ab767a859d1217315f42c9bb52fc648dc">t\r\n</a>]*$/.test(node.nodeValue)){return <a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){walker.prev();}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{walker.next();}}return true;}function wrapSelfAndSiblingsInDefaultBlock(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){var newBlock, parentBlock, startNode, node, next, rootBlockName, blockName=newBlockName|| 'P';parentBlock=dom.getParent(container, dom.isBlock);rootBlockName=editor.getBody().nodeName.toLowerCase();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!parentBlock||!canSplitBlock(parentBlock)){parentBlock=parentBlock||editableRoot;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!parentBlock.hasChildNodes()){newBlock=dom.create(blockName);setForcedBlockAttrs(newBlock);<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">parentBlock.appendChild</a>(newBlock);rng.setStart(newBlock, 0);rng.setEnd(newBlock, 0);return newBlock;}node=container;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node.parentNode!=parentBlock){node=node.parentNode;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node &amp;&amp;!dom.isBlock(node)){startNode=node;node=node.previousSibling;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startNode &amp;&amp;schema.isValidChild(rootBlockName, blockName.toLowerCase())){newBlock=dom.create(blockName);setForcedBlockAttrs(newBlock);<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">startNode.parentNode.insertBefore</a>(newBlock, startNode);node=startNode;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node &amp;&amp;!dom.isBlock(node)){next=node.nextSibling;<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">newBlock.appendChild</a>(node);node=next;}rng.setStart(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);rng.setEnd(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);}}return container;}function handleEmptyListItem(){function isFirstOrLastLi(first){var node=containerBlock[first? 'firstChild': 'lastChild'];<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==1){break;}node=node[first? 'nextSibling': 'previousSibling'];}return node===parentBlock;}function getContainerBlock(){var containerBlockParent=containerBlock.parentNode;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockParent.nodeName== 'LI'){return containerBlockParent;}return containerBlock;}var containerBlockParentName=containerBlock.parentNode.nodeName;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(/^(OL|UL|LI)$/.test(containerBlockParentName)){newBlockName= 'LI';}newBlock=newBlockName?createNewBlock(newBlockName):dom.create('BR');<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isFirstOrLastLi(true)&amp;&amp;isFirstOrLastLi()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockParentName== 'LI'){dom.insertAfter(newBlock, getContainerBlock());}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{dom.replace(newBlock, containerBlock);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isFirstOrLastLi(true)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockParentName== 'LI'){dom.insertAfter(newBlock, getContainerBlock());<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">newBlock.appendChild</a>(dom.doc.createTextNode(' '));<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">newBlock.appendChild</a>(containerBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">containerBlock.parentNode.insertBefore</a>(newBlock, containerBlock);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isFirstOrLastLi()){dom.insertAfter(newBlock, getContainerBlock());renderBlockOnIE(newBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{containerBlock=getContainerBlock();tmpRng=rng.cloneRange();tmpRng.setStartAfter(parentBlock);tmpRng.setEndAfter(containerBlock);fragment=tmpRng.extractContents();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(newBlockName== 'LI'&amp;&amp;fragment.firstChild.nodeName== 'LI'){newBlock=fragment.firstChild;dom.insertAfter(fragment, containerBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{dom.insertAfter(fragment, containerBlock);dom.insertAfter(newBlock, containerBlock);}}<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(parentBlock);moveToCaretPosition(newBlock);<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">undoManager.add</a>();}function hasRightSideContent(){var walker=new TreeWalker(container, parentBlock), node;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=walker.next())){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nonEmptyElementsMap[node.nodeName.toLowerCase()]||node.length &gt; 0){return true;}}}function insertBr(){var brElm, extraBr, marker;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container &amp;&amp;container.nodeType==3 &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt;=container.nodeValue.length){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!isIE &amp;&amp;!hasRightSideContent()){brElm=dom.create('br');rng.insertNode(brElm);rng.setStartAfter(brElm);rng.setEndAfter(brElm);extraBr=true;}}brElm=dom.create('br');rng.insertNode(brElm);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isIE &amp;&amp;parentBlockName== 'PRE'&amp;&amp;(!documentMode||documentMode&lt; 8)){<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">brElm.parentNode.insertBefore</a>(dom.doc.createTextNode('\<a class="el" href="jquery_8fancybox_8pack_8js.html#aaa5fef39529cdffdfa257202bb4fda9f">r</a>'), brElm);}marker=dom.create('span',{}, '&amp;nbsp;');<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">brElm.parentNode.insertBefore</a>(marker, brElm);selection.scrollIntoView(marker);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(marker);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!extraBr){rng.setStartAfter(brElm);rng.setEndAfter(brElm);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng.setStartBefore(brElm);rng.setEndBefore(brElm);}selection.setRng(rng);<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">undoManager.add</a>();}function trimLeadingLineBreaks(node){do{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType===3){node.nodeValue=node.nodeValue.replace(/^[\<a class="el" href="fullpage_2plugin_8min_8js.html#ab767a859d1217315f42c9bb52fc648dc">r\n</a>]+/, '');}node=node.firstChild;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node);}function getEditableRoot(node){var <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>=dom.getRoot(), parent, editableRoot;parent=node;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(parent!==<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a> &amp;&amp;dom.getContentEditable(parent)!==&quot;false&quot;){if(dom.getContentEditable(parent)===&quot;true&quot;){editableRoot=parent;}parent=parent.parentNode;}return parent!==<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>?editableRoot:root;}function addBrToBlockIfNeeded(block){var lastChild;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!isIE){block.normalize();lastChild=block.lastChild;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!lastChild||(/^(left|right)$/gi.test(<a class="el" href="form__utils_8js.html#af366e8c0d1c01b1e1d0a10b6bb300956">dom.getStyle</a>(lastChild, 'float', true)))){<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">dom.add</a>(block, 'br');}}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!rng.collapsed){editor.execCommand('Delete');return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(evt.isDefaultPrevented()){return;}container=rng.startContainer;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=rng.startOffset;newBlockName=(settings.force_p_newlines? '<a class="el" href="media_2js_2jquery_8js.html#a32d2366ed9853870f0c2ef3553996e29">p</a>': '')||settings.forced_root_block;newBlockName=newBlockName?newBlockName.toUpperCase(): '';documentMode=dom.doc.documentMode;shiftKey=evt.shiftKey;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==1 &amp;&amp;container.hasChildNodes()){isAfterLastNodeInContainer=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt; container.childNodes.length-1;container=container.childNodes[<a class="el" href="jquery_8knob_8js.html#af99c323f6f9ad466be52be1b688d26fe">Math.min</a>(<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, container.childNodes.length-1)]||container;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isAfterLastNodeInContainer &amp;&amp;container.nodeType==3){<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=container.nodeValue.length;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;}}editableRoot=getEditableRoot(container);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!editableRoot){return;}undoManager.beforeChange();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!dom.isBlock(editableRoot)&amp;&amp;editableRoot!=dom.getRoot()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!newBlockName||shiftKey){insertBr();}return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>((newBlockName &amp;&amp;!shiftKey)||(!newBlockName &amp;&amp;shiftKey)){container=wrapSelfAndSiblingsInDefaultBlock(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);}parentBlock=dom.getParent(container, dom.isBlock);containerBlock=parentBlock?dom.getParent(parentBlock.parentNode, dom.isBlock):<a class="el" href="validate_8js.html#afb8e110345c45e74478894341ab6b28e">null</a>;parentBlockName=parentBlock?parentBlock.nodeName.toUpperCase(): '';containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase(): '';<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockName== 'LI'&amp;&amp;!evt.ctrlKey){parentBlock=containerBlock;parentBlockName=containerBlockName;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parentBlockName== 'LI'){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!newBlockName &amp;&amp;shiftKey){insertBr();return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(dom.isEmpty(parentBlock)){handleEmptyListItem();return;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parentBlockName== 'PRE'&amp;&amp;settings.br_in_pre!==<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!shiftKey){insertBr();return;}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>((!newBlockName &amp;&amp;!shiftKey &amp;&amp;parentBlockName!= 'LI')||(newBlockName &amp;&amp;shiftKey)){insertBr();return;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(newBlockName &amp;&amp;parentBlock===editor.getBody()){return;}newBlockName=newBlockName|| 'P';<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isCaretAtStartOrEndOfBlock()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(/^(<a class="el" href="jquery_8fancybox_8js.html#abd057520df7a5dc64fe29b4edd3166a3">H</a>[1-6]|PRE|FIGURE)$/.test(parentBlockName)&amp;&amp;containerBlockName!= 'HGROUP'){newBlock=createNewBlock(newBlockName);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{newBlock=createNewBlock();}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(settings.end_container_on_empty_block &amp;&amp;canSplitBlock(containerBlock)&amp;&amp;dom.isEmpty(parentBlock)){newBlock=dom.split(containerBlock, parentBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{dom.insertAfter(newBlock, parentBlock);}moveToCaretPosition(newBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isCaretAtStartOrEndOfBlock(true)){newBlock=<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">parentBlock.parentNode.insertBefore</a>(createNewBlock(), parentBlock);renderBlockOnIE(newBlock);moveToCaretPosition(parentBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{tmpRng=rng.cloneRange();tmpRng.setEndAfter(parentBlock);fragment=tmpRng.extractContents();trimLeadingLineBreaks(fragment);newBlock=fragment.firstChild;dom.insertAfter(fragment, parentBlock);trimInlineElementsOnLeftSideOfBlock(newBlock);addBrToBlockIfNeeded(parentBlock);moveToCaretPosition(newBlock);}dom.setAttrib(newBlock, 'id', '');<a class="el" href="_format_controls_8js.html#acd7a0915b5228909cee16d24a676911c">editor.fire</a>('NewBlock',{newBlock:newBlock});<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">undoManager.add</a>();}<a class="el" href="fullpage_2plugin_8min_8js.html#a1cfa98b7fed2aaf9fee3b68dbb7f9497">editor.on</a>('keydown', function(evt){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(evt.keyCode==13){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(handleEnterKey(evt)!==<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>){evt.preventDefault();}}});};})</td></tr>
<tr class="separator:a8e95fa45d4d85ca4fbf5dc1816aa6ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8e95fa45d4d85ca4fbf5dc1816aa6ecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">define </td>
          <td>(</td>
          <td class="paramtype">&quot;tinymce/EnterKey&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function(TreeWalker, Env){var isIE=<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a> &amp;&amp;<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a>&lt; 11;return function(editor){var dom=editor.dom, selection=editor.selection, <a class="el" href="jquery_8tooltip_8js.html#a52fb9116a07f71570fbf0bd12ff4c9f8">settings</a>=<a class="el" href="jquery_8tooltip_8js.html#a52fb9116a07f71570fbf0bd12ff4c9f8">editor.settings</a>;var undoManager=editor.undoManager, schema=editor.schema, nonEmptyElementsMap=schema.getNonEmptyElements();function handleEnterKey(evt){var rng=selection.getRng(true), tmpRng, editableRoot, container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, parentBlock, documentMode, shiftKey, newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;function canSplitBlock(node){return node &amp;&amp;dom.isBlock(node)&amp;&amp;!/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName)&amp;&amp;!/^(fixed|absolute)/i.test(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">node.style.position</a>)&amp;&amp;dom.getContentEditable(node)!==&quot;true&quot;;}function renderBlockOnIE(block){var oldRng;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(dom.isBlock(block)){oldRng=selection.getRng();<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">block.appendChild</a>(dom.create('span', <a class="el" href="validate_8js.html#afb8e110345c45e74478894341ab6b28e">null</a>, '\u00a0'));<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">selection.select</a>(block);block.lastChild.outerHTML= '';selection.setRng(oldRng);}}function trimInlineElementsOnLeftSideOfBlock(block){var node=block, firstChilds=[], <a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=node.firstChild)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(dom.isBlock(node)){return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==1 &amp;&amp;!nonEmptyElementsMap[node.nodeName.toLowerCase()]){<a class="el" href="core_8constructor_8js.html#afa3ccdb0f651abf66d93864fc8419c98">firstChilds.push</a>(node);}}<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>=firstChilds.length;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>--){node=firstChilds[<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>];<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!node.hasChildNodes()||(node.firstChild==node.lastChild &amp;&amp;node.firstChild.nodeValue=== '')){<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(node);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeName==&quot;A&quot;&amp;&amp;(node.innerText||node.textContent)=== ' '){<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(node);}}}}function moveToCaretPosition(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>){var walker, node, rng, lastNode=<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, tempElm;function firstNonWhiteSpaceNodeSibling(node){<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==1||(node.nodeType==3 &amp;&amp;<a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">node.data</a> &amp;&amp;/[\<a class="el" href="validate_8js.html#ae059f217efaf1d50696a1214c3ce5748">r\n\s</a>]/.test(<a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">node.data</a>))){return node;}node=node.nextSibling;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a> &amp;&amp;<a class="el" href="jquery-ui_8js.html#a7434fb8cf6da72f87b732a8a052232a3">Env.ie</a>&lt; 9 &amp;&amp;parentBlock &amp;&amp;parentBlock.firstChild){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parentBlock.firstChild==parentBlock.lastChild &amp;&amp;<a class="el" href="_j_query_functions_8js.html#ad2e37063c8c2b3db869c735b88473786">parentBlock.firstChild.tagName</a>== 'BR'){<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(parentBlock.firstChild);}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.nodeName== 'LI'){var firstChild=firstNonWhiteSpaceNodeSibling(root.firstChild);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(firstChild &amp;&amp;/^(UL|OL)$/.test(firstChild.nodeName)){<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">root.insertBefore</a>(dom.doc.createTextNode('\u00a0'), root.firstChild);}}rng=dom.createRng();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.hasChildNodes()){walker=new TreeWalker(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=walker.current())){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==3){rng.setStart(node, 0);rng.setEnd(node, 0);break;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nonEmptyElementsMap[node.nodeName.toLowerCase()]){rng.setStartBefore(node);rng.setEndBefore(node);break;}lastNode=node;node=walker.next();}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!node){rng.setStart(lastNode, 0);rng.setEnd(lastNode, 0);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.nodeName== 'BR'){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(root.nextSibling &amp;&amp;dom.isBlock(root.nextSibling)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!documentMode||documentMode&lt; 9){tempElm=dom.create('br');<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">root.parentNode.insertBefore</a>(tempElm, <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}rng.setStartBefore(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);rng.setEndBefore(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng.setStartAfter(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);rng.setEndAfter(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng.setStart(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, 0);rng.setEnd(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, 0);}}selection.setRng(rng);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(tempElm);selection.scrollIntoView(<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>);}function setForcedBlockAttrs(node){var forcedRootBlockName=settings.forced_root_block;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(forcedRootBlockName &amp;&amp;forcedRootBlockName.toLowerCase()===node.tagName.toLowerCase()){<a class="el" href="fullpage_2plugin_8min_8js.html#a7d161a9e201f33c20ddc045115f93fd4">dom.setAttribs</a>(node, settings.forced_root_block_attrs);}}function createNewBlock(name){var node=container, block, clonedNode, caretNode;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(name||parentBlockName==&quot;TABLE&quot;){block=dom.create(name||newBlockName);setForcedBlockAttrs(block);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{block=parentBlock.cloneNode(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);}caretNode=block;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(settings.keep_styles!==<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>){do{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(node.nodeName)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.id== '_mce_caret'){continue;}clonedNode=node.cloneNode(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);dom.setAttrib(clonedNode, 'id', '');<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(block.hasChildNodes()){<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">clonedNode.appendChild</a>(block.firstChild);<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">block.appendChild</a>(clonedNode);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{caretNode=clonedNode;<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">block.appendChild</a>(clonedNode);}}}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=node.parentNode));}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!isIE){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">caretNode.innerHTML</a>= '&lt; br <a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>-mce-bogus=&quot;1&quot;&gt;';}return block;}function isCaretAtStartOrEndOfBlock(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var walker, node, name;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3 &amp;&amp;(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>?<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt; 0:<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>&lt; container.nodeValue.length)){return <a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.parentNode==parentBlock &amp;&amp;isAfterLastNodeInContainer &amp;&amp;!<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){return true;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a> &amp;&amp;container.nodeType==1 &amp;&amp;container==parentBlock.firstChild){return true;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeName===&quot;TABLE&quot;||(container.previousSibling &amp;&amp;container.previousSibling.nodeName==&quot;TABLE&quot;)){return(isAfterLastNodeInContainer &amp;&amp;!<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>)||(!isAfterLastNodeInContainer &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);}walker=new TreeWalker(container, parentBlock);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a> &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>===0){walker.prev();}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a> &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>==container.nodeValue.length){walker.next();}}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=walker.current())){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType===1){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!node.getAttribute('<a class="el" href="fullpage_2plugin_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>-mce-bogus')){name=node.nodeName.toLowerCase();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nonEmptyElementsMap[name]&amp;&amp;name!== 'br'){return <a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;}}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType===3 &amp;&amp;!/^[\<a class="el" href="fullpage_2plugin_8min_8js.html#ab767a859d1217315f42c9bb52fc648dc">t\r\n</a>]*$/.test(node.nodeValue)){return <a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){walker.prev();}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{walker.next();}}return true;}function wrapSelfAndSiblingsInDefaultBlock(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){var newBlock, parentBlock, startNode, node, next, rootBlockName, blockName=newBlockName|| 'P';parentBlock=dom.getParent(container, dom.isBlock);rootBlockName=editor.getBody().nodeName.toLowerCase();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!parentBlock||!canSplitBlock(parentBlock)){parentBlock=parentBlock||editableRoot;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!parentBlock.hasChildNodes()){newBlock=dom.create(blockName);setForcedBlockAttrs(newBlock);<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">parentBlock.appendChild</a>(newBlock);rng.setStart(newBlock, 0);rng.setEnd(newBlock, 0);return newBlock;}node=container;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node.parentNode!=parentBlock){node=node.parentNode;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node &amp;&amp;!dom.isBlock(node)){startNode=node;node=node.previousSibling;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startNode &amp;&amp;schema.isValidChild(rootBlockName, blockName.toLowerCase())){newBlock=dom.create(blockName);setForcedBlockAttrs(newBlock);<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">startNode.parentNode.insertBefore</a>(newBlock, startNode);node=startNode;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node &amp;&amp;!dom.isBlock(node)){next=node.nextSibling;<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">newBlock.appendChild</a>(node);node=next;}rng.setStart(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);rng.setEnd(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);}}return container;}function handleEmptyListItem(){function isFirstOrLastLi(first){var node=containerBlock[first? 'firstChild': 'lastChild'];<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType==1){break;}node=node[first? 'nextSibling': 'previousSibling'];}return node===parentBlock;}function getContainerBlock(){var containerBlockParent=containerBlock.parentNode;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockParent.nodeName== 'LI'){return containerBlockParent;}return containerBlock;}var containerBlockParentName=containerBlock.parentNode.nodeName;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(/^(OL|UL|LI)$/.test(containerBlockParentName)){newBlockName= 'LI';}newBlock=newBlockName?createNewBlock(newBlockName):dom.create('BR');<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isFirstOrLastLi(true)&amp;&amp;isFirstOrLastLi()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockParentName== 'LI'){dom.insertAfter(newBlock, getContainerBlock());}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{dom.replace(newBlock, containerBlock);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isFirstOrLastLi(true)){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockParentName== 'LI'){dom.insertAfter(newBlock, getContainerBlock());<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">newBlock.appendChild</a>(dom.doc.createTextNode(' '));<a class="el" href="jquery-ui_8js.html#a282eb35406abfe6001815a393642b8cb">newBlock.appendChild</a>(containerBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">containerBlock.parentNode.insertBefore</a>(newBlock, containerBlock);}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isFirstOrLastLi()){dom.insertAfter(newBlock, getContainerBlock());renderBlockOnIE(newBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{containerBlock=getContainerBlock();tmpRng=rng.cloneRange();tmpRng.setStartAfter(parentBlock);tmpRng.setEndAfter(containerBlock);fragment=tmpRng.extractContents();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(newBlockName== 'LI'&amp;&amp;fragment.firstChild.nodeName== 'LI'){newBlock=fragment.firstChild;dom.insertAfter(fragment, containerBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{dom.insertAfter(fragment, containerBlock);dom.insertAfter(newBlock, containerBlock);}}<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(parentBlock);moveToCaretPosition(newBlock);<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">undoManager.add</a>();}function hasRightSideContent(){var walker=new TreeWalker(container, parentBlock), node;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>((node=walker.next())){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nonEmptyElementsMap[node.nodeName.toLowerCase()]||node.length &gt; 0){return true;}}}function insertBr(){var brElm, extraBr, marker;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container &amp;&amp;container.nodeType==3 &amp;&amp;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt;=container.nodeValue.length){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!isIE &amp;&amp;!hasRightSideContent()){brElm=dom.create('br');rng.insertNode(brElm);rng.setStartAfter(brElm);rng.setEndAfter(brElm);extraBr=true;}}brElm=dom.create('br');rng.insertNode(brElm);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isIE &amp;&amp;parentBlockName== 'PRE'&amp;&amp;(!documentMode||documentMode&lt; 8)){<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">brElm.parentNode.insertBefore</a>(dom.doc.createTextNode('\<a class="el" href="jquery_8fancybox_8pack_8js.html#aaa5fef39529cdffdfa257202bb4fda9f">r</a>'), brElm);}marker=dom.create('span',{}, '&amp;nbsp;');<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">brElm.parentNode.insertBefore</a>(marker, brElm);selection.scrollIntoView(marker);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(marker);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!extraBr){rng.setStartAfter(brElm);rng.setEndAfter(brElm);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng.setStartBefore(brElm);rng.setEndBefore(brElm);}selection.setRng(rng);<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">undoManager.add</a>();}function trimLeadingLineBreaks(node){do{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node.nodeType===3){node.nodeValue=node.nodeValue.replace(/^[\<a class="el" href="fullpage_2plugin_8min_8js.html#ab767a859d1217315f42c9bb52fc648dc">r\n</a>]+/, '');}node=node.firstChild;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(node);}function getEditableRoot(node){var <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>=dom.getRoot(), parent, editableRoot;parent=node;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(parent!==<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a> &amp;&amp;dom.getContentEditable(parent)!==&quot;false&quot;){if(dom.getContentEditable(parent)===&quot;true&quot;){editableRoot=parent;}parent=parent.parentNode;}return parent!==<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>?editableRoot:root;}function addBrToBlockIfNeeded(block){var lastChild;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!isIE){block.normalize();lastChild=block.lastChild;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!lastChild||(/^(left|right)$/gi.test(<a class="el" href="form__utils_8js.html#af366e8c0d1c01b1e1d0a10b6bb300956">dom.getStyle</a>(lastChild, 'float', true)))){<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">dom.add</a>(block, 'br');}}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!rng.collapsed){editor.execCommand('Delete');return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(evt.isDefaultPrevented()){return;}container=rng.startContainer;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=rng.startOffset;newBlockName=(settings.force_p_newlines? '<a class="el" href="media_2js_2jquery_8js.html#a32d2366ed9853870f0c2ef3553996e29">p</a>': '')||settings.forced_root_block;newBlockName=newBlockName?newBlockName.toUpperCase(): '';documentMode=dom.doc.documentMode;shiftKey=evt.shiftKey;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==1 &amp;&amp;container.hasChildNodes()){isAfterLastNodeInContainer=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt; container.childNodes.length-1;container=container.childNodes[<a class="el" href="jquery_8knob_8js.html#af99c323f6f9ad466be52be1b688d26fe">Math.min</a>(<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, container.childNodes.length-1)]||container;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isAfterLastNodeInContainer &amp;&amp;container.nodeType==3){<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=container.nodeValue.length;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;}}editableRoot=getEditableRoot(container);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!editableRoot){return;}undoManager.beforeChange();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!dom.isBlock(editableRoot)&amp;&amp;editableRoot!=dom.getRoot()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!newBlockName||shiftKey){insertBr();}return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>((newBlockName &amp;&amp;!shiftKey)||(!newBlockName &amp;&amp;shiftKey)){container=wrapSelfAndSiblingsInDefaultBlock(container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);}parentBlock=dom.getParent(container, dom.isBlock);containerBlock=parentBlock?dom.getParent(parentBlock.parentNode, dom.isBlock):<a class="el" href="validate_8js.html#afb8e110345c45e74478894341ab6b28e">null</a>;parentBlockName=parentBlock?parentBlock.nodeName.toUpperCase(): '';containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase(): '';<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(containerBlockName== 'LI'&amp;&amp;!evt.ctrlKey){parentBlock=containerBlock;parentBlockName=containerBlockName;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parentBlockName== 'LI'){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!newBlockName &amp;&amp;shiftKey){insertBr();return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(dom.isEmpty(parentBlock)){handleEmptyListItem();return;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parentBlockName== 'PRE'&amp;&amp;settings.br_in_pre!==<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!shiftKey){insertBr();return;}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>((!newBlockName &amp;&amp;!shiftKey &amp;&amp;parentBlockName!= 'LI')||(newBlockName &amp;&amp;shiftKey)){insertBr();return;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(newBlockName &amp;&amp;parentBlock===editor.getBody()){return;}newBlockName=newBlockName|| 'P';<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isCaretAtStartOrEndOfBlock()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(/^(<a class="el" href="jquery_8fancybox_8js.html#abd057520df7a5dc64fe29b4edd3166a3">H</a>[1-6]|PRE|FIGURE)$/.test(parentBlockName)&amp;&amp;containerBlockName!= 'HGROUP'){newBlock=createNewBlock(newBlockName);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{newBlock=createNewBlock();}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(settings.end_container_on_empty_block &amp;&amp;canSplitBlock(containerBlock)&amp;&amp;dom.isEmpty(parentBlock)){newBlock=dom.split(containerBlock, parentBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{dom.insertAfter(newBlock, parentBlock);}moveToCaretPosition(newBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(isCaretAtStartOrEndOfBlock(true)){newBlock=<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">parentBlock.parentNode.insertBefore</a>(createNewBlock(), parentBlock);renderBlockOnIE(newBlock);moveToCaretPosition(parentBlock);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{tmpRng=rng.cloneRange();tmpRng.setEndAfter(parentBlock);fragment=tmpRng.extractContents();trimLeadingLineBreaks(fragment);newBlock=fragment.firstChild;dom.insertAfter(fragment, parentBlock);trimInlineElementsOnLeftSideOfBlock(newBlock);addBrToBlockIfNeeded(parentBlock);moveToCaretPosition(newBlock);}dom.setAttrib(newBlock, 'id', '');<a class="el" href="_format_controls_8js.html#acd7a0915b5228909cee16d24a676911c">editor.fire</a>('NewBlock',{newBlock:newBlock});<a class="el" href="theme_8min_8js.html#a1833965973c7833716346fa64230bb38">undoManager.add</a>();}<a class="el" href="fullpage_2plugin_8min_8js.html#a1cfa98b7fed2aaf9fee3b68dbb7f9497">editor.on</a>('keydown', function(evt){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(evt.keyCode==13){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(handleEnterKey(evt)!==<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>){evt.preventDefault();}}});};}&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="_enter_key_8js.html">EnterKey.js</a></p>
<p>Copyright, Moxiecode Systems AB Released under LGPL License.</p>
<p>License: <a href="http://www.tinymce.com/license">http://www.tinymce.com/license</a> Contributing: <a href="http://www.tinymce.com/contributing">http://www.tinymce.com/contributing</a> Contains logic for handling the enter key to split/generate block elements. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 13 2014 13:09:12 for singerfrance.com by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
