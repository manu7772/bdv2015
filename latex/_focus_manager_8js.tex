\hypertarget{_focus_manager_8js}{\section{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/classes/\+Focus\+Manager.js File Reference}
\label{_focus_manager_8js}\index{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/classes/\+Focus\+Manager.\+js@{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/classes/\+Focus\+Manager.\+js}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_focus_manager_8js_ace170a810289af690f947cc145583090}{define} (\char`\"{}tinymce/Focus\+Manager\char`\"{}, \mbox{[}\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/dom/D\+O\+M\+Utils\char`\"{},\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/Env\char`\"{}\mbox{]}, function(D\+O\+M\+Utils, Env)\{function Focus\+Manager(editor\+Manager)\{function get\+Active\+Element()\{\hyperlink{jquery-1_89_81_8js_abe4cc9788f52e49485473dc699537388}{try}\{return document.\+active\+Element;\}\hyperlink{jquery-1_89_81_8js_a5bf45fc51bc0426586792b5f9cb95431}{catch}(ex)\{return document.\+body;\}\}function create\+Bookmark(rng)\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(rng \&\&rng.\+start\+Container)\{return\{start\+Container\+:rng.\+start\+Container, start\+Offset\+:rng.\+start\+Offset, end\+Container\+:rng.\+end\+Container, end\+Offset\+:rng.\+end\+Offset\};\}return rng;\}function bookmark\+To\+Rng(editor, bookmark)\{var rng;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(bookmark.\+start\+Container)\{rng=editor.\+get\+Doc().create\+Range();rng.\+set\+Start(bookmark.\+start\+Container, bookmark.\+start\+Offset);rng.\+set\+End(bookmark.\+end\+Container, bookmark.\+end\+Offset);\}\hyperlink{jquery_8iframe-transport_8js_a0544c3fe466e421738dae463968b70ba}{else}\{rng=bookmark;\}return rng;\}function register\+Events(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{var editor=e.\+editor, last\+Rng, selection\+Change\+Handler;function is\+U\+I\+Element(\hyperlink{fullpage_2plugin_8js_a97a64dfa22b20bcc682327a272b84e73}{elm})\{return!!\+D\+O\+M\+Utils.\+D\+O\+M.\+get\+Parent(\hyperlink{fullpage_2plugin_8js_a97a64dfa22b20bcc682327a272b84e73}{elm}, Focus\+Manager.\+is\+Editor\+U\+I\+Element);\}function is\+Node\+In\+Body(node)\{var body=editor.\+get\+Body();\hyperlink{extras_2_scroller_2media_2data_2server__processing_8php_a83084cf6f83823d8593882985353708d}{while}(node)\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(node==body)\{return true;\}node=node.\+parent\+Node;\}\}\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('\hyperlink{mctabs_8js_a936fb06176b01ffb1fc69eb4d1e2f67d}{init}', function()\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(\char`\"{}onbeforedeactivate\char`\"{}in \hyperlink{outside_events_8js_aa14f8e0338cced6720590fd2ea13bd4b}{document} \&\&\hyperlink{jquery-ui_8js_a7434fb8cf6da72f87b732a8a052232a3}{Env.\+ie}$<$ 11)\{\hyperlink{jquery_8mobile-1_83_81_8js_aa28c4555fcf1f84917a1d70644f7174f}{editor.\+dom.\+bind}(editor.\+get\+Body(), 'beforedeactivate', function()\{var ie\+Selection=editor.\+get\+Doc().selection;\hyperlink{jquery-1_89_81_8js_abe4cc9788f52e49485473dc699537388}{try}\{last\+Rng=ie\+Selection \&\&ie\+Selection.\+create\+Range?ie\+Selection.\+create\+Range()\+:editor.\+selection.\+get\+Rng();\}\hyperlink{jquery-1_89_81_8js_a5bf45fc51bc0426586792b5f9cb95431}{catch}(ex)\{\}\});\}\hyperlink{jquery_8iframe-transport_8js_a0544c3fe466e421738dae463968b70ba}{else} \hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(editor.\+inline$\vert$$\vert$\hyperlink{jquery-ui_8js_a7434fb8cf6da72f87b732a8a052232a3}{Env.\+ie} $>$ 10)\{\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('nodechange keyup', function()\{var node=document.\+active\+Element;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(node \&\&node.\+id==editor.\+id+ '\+\_\+ifr')\{node=editor.\+get\+Body();\}\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(is\+Node\+In\+Body(node))\{last\+Rng=editor.\+selection.\+get\+Rng();\}\});\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(Env.\+webkit)\{selection\+Change\+Handler=function()\{var rng=editor.\+selection.\+get\+Rng();\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(!rng.\+collapsed)\{last\+Rng=rng;\}\};\hyperlink{jquery_8mobile-1_83_81_8js_aa28c4555fcf1f84917a1d70644f7174f}{D\+O\+M\+Utils.\+D\+O\+M.\+bind}(\hyperlink{outside_events_8js_aa14f8e0338cced6720590fd2ea13bd4b}{document}, 'selectionchange', selection\+Change\+Handler);\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('\hyperlink{fullpage_2plugin_8min_8js_a3fe72a3812c61d06ea7c5cf2052f3dd2}{remove}', function()\{D\+O\+M\+Utils.\+D\+O\+M.\+unbind(\hyperlink{outside_events_8js_aa14f8e0338cced6720590fd2ea13bd4b}{document}, 'selectionchange', selection\+Change\+Handler);\});\}\}\});\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('setcontent', function()\{last\+Rng=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\});\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('mousedown', function()\{editor.\+selection.\+last\+Focus\+Bookmark=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\});\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('focusin', function()\{var focused\+Editor=editor\+Manager.\+focused\+Editor;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(editor.\+selection.\+last\+Focus\+Bookmark)\{editor.\+selection.\+set\+Rng(bookmark\+To\+Rng(editor, editor.\+selection.\+last\+Focus\+Bookmark));editor.\+selection.\+last\+Focus\+Bookmark=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\}\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(focused\+Editor!=editor)\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(focused\+Editor)\{\hyperlink{_format_controls_8js_acd7a0915b5228909cee16d24a676911c}{focused\+Editor.\+fire}('blur',\{focused\+Editor\+:editor\});\}editor\+Manager.\+active\+Editor=editor;\hyperlink{_format_controls_8js_acd7a0915b5228909cee16d24a676911c}{editor.\+fire}('focus',\{blurred\+Editor\+:focused\+Editor\});editor.\+focus(\hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false});editor\+Manager.\+focused\+Editor=editor;\}last\+Rng=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\});\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('focusout', function(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(e.\+target!==editor.\+get\+Body()\&\&is\+Node\+In\+Body(e.\+target))\{return;\}editor.\+selection.\+last\+Focus\+Bookmark=create\+Bookmark(last\+Rng);window.\+set\+Timeout(function()\{var focused\+Editor=editor\+Manager.\+focused\+Editor;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(focused\+Editor!=editor)\{editor.\+selection.\+last\+Focus\+Bookmark=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\}\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(!is\+U\+I\+Element(get\+Active\+Element())\&\&focused\+Editor==editor)\{\hyperlink{_format_controls_8js_acd7a0915b5228909cee16d24a676911c}{editor.\+fire}('blur',\{focused\+Editor\+:null\});editor\+Manager.\+focused\+Editor=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};editor.\+selection.\+last\+Focus\+Bookmark=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\}\}, 0);\});\}\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor\+Manager.\+on}('Add\+Editor', register\+Events);\}Focus\+Manager.\+is\+Editor\+U\+I\+Element=function(\hyperlink{fullpage_2plugin_8js_a97a64dfa22b20bcc682327a272b84e73}{elm})\{return elm.\+class\+Name.\+index\+Of('mce-\/')!==-\/1;\};return Focus\+Manager;\})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{_focus_manager_8js_ace170a810289af690f947cc145583090}{\index{Focus\+Manager.\+js@{Focus\+Manager.\+js}!define@{define}}
\index{define@{define}!Focus\+Manager.\+js@{Focus\+Manager.\+js}}
\subsubsection[{define}]{\setlength{\rightskip}{0pt plus 5cm}define (
\begin{DoxyParamCaption}
\item[{\char`\"{}tinymce/Focus\+Manager\char`\"{}}]{, }
\item[{function(D\+O\+M\+Utils, Env)\{function Focus\+Manager(editor\+Manager)\{function get\+Active\+Element()\{{\bf try}\{return document.\+active\+Element;\}{\bf catch}(ex)\{return document.\+body;\}\}function create\+Bookmark(rng)\{{\bf if}(rng \&\&rng.\+start\+Container)\{return\{start\+Container\+:rng.\+start\+Container, start\+Offset\+:rng.\+start\+Offset, end\+Container\+:rng.\+end\+Container, end\+Offset\+:rng.\+end\+Offset\};\}return rng;\}function bookmark\+To\+Rng(editor, bookmark)\{var rng;{\bf if}(bookmark.\+start\+Container)\{rng=editor.\+get\+Doc().create\+Range();rng.\+set\+Start(bookmark.\+start\+Container, bookmark.\+start\+Offset);rng.\+set\+End(bookmark.\+end\+Container, bookmark.\+end\+Offset);\}{\bf else}\{rng=bookmark;\}return rng;\}function register\+Events({\bf e})\{var editor=e.\+editor, last\+Rng, selection\+Change\+Handler;function is\+U\+I\+Element({\bf elm})\{return!!\+D\+O\+M\+Utils.\+D\+O\+M.\+get\+Parent({\bf elm}, Focus\+Manager.\+is\+Editor\+U\+I\+Element);\}function is\+Node\+In\+Body(node)\{var body=editor.\+get\+Body();{\bf while}(node)\{{\bf if}(node==body)\{return true;\}node=node.\+parent\+Node;\}\}{\bf editor.\+on}('{\bf init}', function()\{{\bf if}(\char`\"{}onbeforedeactivate\char`\"{}in {\bf document} \&\&{\bf Env.\+ie}$<$ 11)\{{\bf editor.\+dom.\+bind}(editor.\+get\+Body(), 'beforedeactivate', function()\{var ie\+Selection=editor.\+get\+Doc().selection;{\bf try}\{last\+Rng=ie\+Selection \&\&ie\+Selection.\+create\+Range?ie\+Selection.\+create\+Range()\+:editor.\+selection.\+get\+Rng();\}{\bf catch}(ex)\{\}\});\}{\bf else} {\bf if}(editor.\+inline$\vert$$\vert${\bf Env.\+ie} $>$ 10)\{{\bf editor.\+on}('nodechange keyup', function()\{var node=document.\+active\+Element;{\bf if}(node \&\&node.\+id==editor.\+id+ '\+\_\+ifr')\{node=editor.\+get\+Body();\}{\bf if}(is\+Node\+In\+Body(node))\{last\+Rng=editor.\+selection.\+get\+Rng();\}\});{\bf if}(Env.\+webkit)\{selection\+Change\+Handler=function()\{var rng=editor.\+selection.\+get\+Rng();{\bf if}(!rng.\+collapsed)\{last\+Rng=rng;\}\};{\bf D\+O\+M\+Utils.\+D\+O\+M.\+bind}({\bf document}, 'selectionchange', selection\+Change\+Handler);{\bf editor.\+on}('{\bf remove}', function()\{D\+O\+M\+Utils.\+D\+O\+M.\+unbind({\bf document}, 'selectionchange', selection\+Change\+Handler);\});\}\}\});{\bf editor.\+on}('setcontent', function()\{last\+Rng={\bf null};\});{\bf editor.\+on}('mousedown', function()\{editor.\+selection.\+last\+Focus\+Bookmark={\bf null};\});{\bf editor.\+on}('focusin', function()\{var focused\+Editor=editor\+Manager.\+focused\+Editor;{\bf if}(editor.\+selection.\+last\+Focus\+Bookmark)\{editor.\+selection.\+set\+Rng(bookmark\+To\+Rng(editor, editor.\+selection.\+last\+Focus\+Bookmark));editor.\+selection.\+last\+Focus\+Bookmark={\bf null};\}{\bf if}(focused\+Editor!=editor)\{{\bf if}(focused\+Editor)\{{\bf focused\+Editor.\+fire}('blur',\{focused\+Editor\+:editor\});\}editor\+Manager.\+active\+Editor=editor;{\bf editor.\+fire}('focus',\{blurred\+Editor\+:focused\+Editor\});editor.\+focus({\bf false});editor\+Manager.\+focused\+Editor=editor;\}last\+Rng={\bf null};\});{\bf editor.\+on}('focusout', function({\bf e})\{{\bf if}(e.\+target!==editor.\+get\+Body()\&\&is\+Node\+In\+Body(e.\+target))\{return;\}editor.\+selection.\+last\+Focus\+Bookmark=create\+Bookmark(last\+Rng);window.\+set\+Timeout(function()\{var focused\+Editor=editor\+Manager.\+focused\+Editor;{\bf if}(focused\+Editor!=editor)\{editor.\+selection.\+last\+Focus\+Bookmark={\bf null};\}{\bf if}(!is\+U\+I\+Element(get\+Active\+Element())\&\&focused\+Editor==editor)\{{\bf editor.\+fire}('blur',\{focused\+Editor\+:null\});editor\+Manager.\+focused\+Editor={\bf null};editor.\+selection.\+last\+Focus\+Bookmark={\bf null};\}\}, 0);\});\}{\bf editor\+Manager.\+on}('Add\+Editor', register\+Events);\}Focus\+Manager.\+is\+Editor\+U\+I\+Element=function({\bf elm})\{return elm.\+class\+Name.\+index\+Of('mce-\/')!==-\/1;\};return Focus\+Manager;\}}]{}
\end{DoxyParamCaption}
)}}\label{_focus_manager_8js_ace170a810289af690f947cc145583090}

\begin{DoxyParams}{Parameters}
{\em function(\+D\+O\+M\+Utils,Env)\{function} & Focus\+Manager(editor\+Manager)\{function get\+Active\+Element()\{try\{return document.\+active\+Element;\}catch(ex)\{return document.\+body;\}\}function create\+Bookmark(rng)\{if(rng \&\&rng.\+start\+Container)\{return\{start\+Container\+:rng.\+start\+Container, start\+Offset\+:rng.\+start\+Offset, end\+Container\+:rng.\+end\+Container, end\+Offset\+:rng.\+end\+Offset\};\}return rng;\}function bookmark\+To\+Rng(editor, bookmark)\{var rng;if(bookmark.\+start\+Container)\{rng=editor.\+get\+Doc().create\+Range();rng.\+set\+Start(bookmark.\+start\+Container, bookmark.\+start\+Offset);rng.\+set\+End(bookmark.\+end\+Container, bookmark.\+end\+Offset);\}else\{rng=bookmark;\}return rng;\}function register\+Events(e)\{var editor=e.\+editor, last\+Rng, selection\+Change\+Handler;function is\+U\+I\+Element(elm)\{return!!\+D\+O\+M\+Utils.D\+O\+M.\+get\+Parent(elm, Focus\+Manager.\+is\+Editor\+U\+I\+Element);\}function is\+Node\+In\+Body(node)\{var body=editor.\+get\+Body();while(node)\{if(node==body)\{return true;\}node=node.\+parent\+Node;\}\}editor.\+on('init', function()\{if(\char`\"{}onbeforedeactivate\char`\"{}in document \&\&Env.\+ie$<$ 11)\{editor.\+dom.\+bind(editor.\+get\+Body(), 'beforedeactivate', function()\{var ie\+Selection=editor.\+get\+Doc().selection;try\{last\+Rng=ie\+Selection \&\&ie\+Selection.\+create\+Range?ie\+Selection.\+create\+Range()\+:editor.\+selection.\+get\+Rng();\}catch(ex)\{\}\});\}else if(editor.\+inline$\vert$$\vert$\+Env.ie $>$ 10)\{editor.\+on('nodechange keyup', function()\{var node=document.\+active\+Element;if(node \&\&node.\+id==editor.\+id+ '\+\_\+ifr')\{node=editor.\+get\+Body();\}if(is\+Node\+In\+Body(node))\{last\+Rng=editor.\+selection.\+get\+Rng();\}\});if(Env.\+webkit)\{selection\+Change\+Handler=function()\{var rng=editor.\+selection.\+get\+Rng();if(!rng.collapsed)\{last\+Rng=rng;\}\};D\+O\+M\+Utils.\+D\+O\+M.\+bind(document, 'selectionchange', selection\+Change\+Handler);editor.\+on('remove', function()\{D\+O\+M\+Utils.\+D\+O\+M.\+unbind(document, 'selectionchange', selection\+Change\+Handler);\});\}\}\});editor.\+on('setcontent', function()\{last\+Rng=null;\});editor.\+on('mousedown', function()\{editor.\+selection.\+last\+Focus\+Bookmark=null;\});editor.\+on('focusin', function()\{var focused\+Editor=editor\+Manager.\+focused\+Editor;if(editor.\+selection.\+last\+Focus\+Bookmark)\{editor.\+selection.\+set\+Rng(bookmark\+To\+Rng(editor, editor.\+selection.\+last\+Focus\+Bookmark));editor.\+selection.\+last\+Focus\+Bookmark=null;\}if(focused\+Editor!=editor)\{if(focused\+Editor)\{focused\+Editor.\+fire('blur',\{focused\+Editor\+:editor\});\}editor\+Manager.\+active\+Editor=editor;editor.\+fire('focus',\{blurred\+Editor\+:focused\+Editor\});editor.\+focus(false);editor\+Manager.\+focused\+Editor=editor;\}last\+Rng=null;\});editor.\+on('focusout', function(e)\{if(e.\+target!==editor.\+get\+Body()\&\&is\+Node\+In\+Body(e.\+target))\{return;\}editor.\+selection.\+last\+Focus\+Bookmark=create\+Bookmark(last\+Rng);window.\+set\+Timeout(function()\{var focused\+Editor=editor\+Manager.\+focused\+Editor;if(focused\+Editor!=editor)\{editor.\+selection.\+last\+Focus\+Bookmark=null;\}if(!is\+U\+I\+Element(get\+Active\+Element())\&\&focused\+Editor==editor)\{editor.\+fire('blur',\{focused\+Editor\+:null\});editor\+Manager.\+focused\+Editor=null;editor.\+selection.\+last\+Focus\+Bookmark=null;\}\}, 0);\});\}editor\+Manager.\+on('Add\+Editor', register\+Events);\}Focus\+Manager.\+is\+Editor\+U\+I\+Element=function(elm)\{return elm.\+class\+Name.\+index\+Of('mce-\/')!==-\/1;\};return Focus\+Manager;\} Constructs a new focus manager instance.\\
\hline
\end{DoxyParams}
Focus\+Manager 
\begin{DoxyParams}{Parameters}
{\em \{tinymce.\+Editor\+Manager\}} & editor\+Manager Editor manager instance to handle focus for.\\
\hline
\end{DoxyParams}
Returns true if the specified element is part of the U\+I for example an button or text input.

is\+Editor\+U\+I\+Element 
\begin{DoxyParams}{Parameters}
{\em \{\+Element\}} & elm Element to check if it's part of the U\+I or not. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{Boolean\} True/false state if the element is part of the U\+I or not. 
\end{DoxyReturn}
