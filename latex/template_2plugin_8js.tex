\hypertarget{template_2plugin_8js}{\section{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/plugins/template/plugin.js File Reference}
\label{template_2plugin_8js}\index{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/plugins/template/plugin.\+js@{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/plugins/template/plugin.\+js}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce} Plugin\+Manager \hyperlink{template_2plugin_8js_a9074632bb8961e51cd682bb629a969d4}{add} ('template', function(editor)\{var \hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}=\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{tinymce.\+each};function create\+Template\+List(callback)\{return function()\{var template\+List=editor.\+settings.\+templates;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(\hyperlink{extras_2_scroller_2media_2docs_2media_2js_2sh_brush_j_script_8js_a93a9266f92d6d68644e7aa63da3caa11}{typeof}(template\+List)==\char`\"{}string\char`\"{})\{tinymce.\+util.\+X\+H\+R.\+send(\{url\+:template\+List, success\+:function(text)\{callback(tinymce.\+util.\+J\+S\+O\+N.\+parse(text));\}\});\}\hyperlink{jquery_8iframe-transport_8js_a0544c3fe466e421738dae463968b70ba}{else}\{callback(template\+List);\}\};\}function show\+Dialog(template\+List)\{var win, values=\mbox{[}$\,$\mbox{]}, template\+Html;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(!template\+List$\vert$$\vert$template\+List.\+length===0)\{editor.\+window\+Manager.\+alert('No templates \hyperlink{tinymce_8js_a8cb6212cde9926d156ab5912c9b547cf}{defined}');return;\}\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{tinymce.\+each}(template\+List, function(template)\{\hyperlink{core_8constructor_8js_afa3ccdb0f651abf66d93864fc8419c98}{values.\+push}(\{selected\+:!values.\+length, \hyperlink{jquery_8fancybox_8pack_8js_a293d418e53eecdc63689e8e677088684}{text\+:template.\+title}, value\+:\{url\+:template.\+url, content\+:template.\+content, description\+:template.\+description\}\});\});function on\+Select\+Template(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{var \hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value}=\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{e.\+control.\+value}();function insert\+Iframe\+Html(\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(html.\+index\+Of('$<$ \hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html} $>$')==-\/1)\{var content\+Css\+Links= '';\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{tinymce.\+each}(editor.\+content\+C\+S\+S, function(url)\{content\+Css\+Links+= '$<$ link type=\char`\"{}text/\hyperlink{extras_2_scroller_2media_2docs_2media_2js_2jquery_8js_a7f3289748d8b48665399d82540f341dd}{css}\char`\"{}rel=\char`\"{}stylesheet\char`\"{}href=\char`\"{}' + editor.\+document\+Base\+U\+R\+I.\+to\+Absolute(url) + '\char`\"{}$>$';\});html=('$<$!D\+O\+C\+T\+Y\+P\+E \hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html} $>$'+'$<$ \hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html} $>$'+'$<$ head $>$'+content\+Css\+Links+'$<$/head $>$'+'$<$ body $>$'+\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html}+'$<$/body $>$'+'$<$/\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html} $>$');\}\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html}=replace\+Template\+Values(\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html}, 'template\+\_\+preview\+\_\+replace\+\_\+values');var \hyperlink{outside_events_8js_a6966a4bf23931ad4f323b1b8c1e1801f}{doc}=win.\+find('iframe')\mbox{[}0\mbox{]}.get\+El().\hyperlink{outside_events_8js_aa14f8e0338cced6720590fd2ea13bd4b}{content\+Window.\+document};doc.\+open();doc.\+write(\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html});doc.\+close();\}\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(value.\+url)\{tinymce.\+util.\+X\+H\+R.\+send(\{url\+:value.\+url, success\+:function(\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html})\{template\+Html=\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html};insert\+Iframe\+Html(template\+Html);\}\});\}\hyperlink{jquery_8iframe-transport_8js_a0544c3fe466e421738dae463968b70ba}{else}\{template\+Html=value.\+content;insert\+Iframe\+Html(template\+Html);\}win.\+find('\#description')\mbox{[}0\mbox{]}.text(\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{e.\+control.\+value}().description);\}win=editor.\+window\+Manager.\+open(\{title\+: 'Insert template', layout\+: 'flex', direction\+: 'column', align\+: 'stretch', padding\+:15, spacing\+:10, items\+:\mbox{[}\{type\+: 'form', flex\+:0, padding\+:0, items\+:\mbox{[}\{type\+: 'container', label\+: 'Templates', items\+:\{type\+: 'listbox', label\+: 'Templates', name\+: 'template', values\+:values, onselect\+:on\+Select\+Template\}\}\mbox{]}\},\{type\+: 'label', name\+: 'description', label\+: 'Description', text\+: '\textbackslash{}u00a0'\},\{type\+: 'iframe', flex\+:1, border\+:1\}\mbox{]}, onsubmit\+:function()\{insert\+Template(\hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false}, template\+Html);\}, \hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{width\+:editor.\+get\+Param}('template\+\_\+popup\+\_\+width', 600), \hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{height\+:editor.\+get\+Param}('template\+\_\+popup\+\_\+height', 500)\});win.\+find('listbox')\mbox{[}0\mbox{]}.\hyperlink{_format_controls_8js_acd7a0915b5228909cee16d24a676911c}{fire}('\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{select}');\}function get\+Date\+Time(fmt, date)\{var days\+Short=\char`\"{}Sun Mon Tue Wed Thu Fri Sat Sun\char`\"{}.split(' ');var days\+Long=\char`\"{}Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\char`\"{}.split(' ');var months\+Short=\char`\"{}Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\char`\"{}.split(' ');var months\+Long=\char`\"{}January February March April May June July August September October November December\char`\"{}.split(' ');function add\+Zeros(\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value}, len)\{\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value}=\char`\"{}\char`\"{}+\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value};\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(value.\+length$<$ len)\{\hyperlink{tinymce_8jquery_8dev_8js_a4675a875b20881bc5f7011f49fbd4da7}{for}(var \hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}=0;\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}$<$ (len-\/value.\+length);\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}++)\{\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value}=\char`\"{}0\char`\"{}+\hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value};\}\}return \hyperlink{fullpage_2plugin_8min_8js_ac56c57897e10f699d124e0103921aa20}{value};\}date=date$\vert$$\vert$new Date();fmt=fmt.\+replace(\char`\"{}\%D\char`\"{},\char`\"{}\%m/\%\hyperlink{fullpage_2plugin_8min_8js_a86138ad7596633fd5f960ad9c40f8862}{d}/\%Y\char`\"{});fmt=fmt.\+replace(\char`\"{}\%r\char`\"{},\char`\"{}\%I\+:\%M\+:\%S \%\hyperlink{media_2js_2jquery_8js_a32d2366ed9853870f0c2ef3553996e29}{p}\char`\"{});fmt=fmt.\+replace(\char`\"{}\%Y\char`\"{},\char`\"{}\char`\"{}+date.\+get\+Full\+Year());fmt=fmt.\+replace(\char`\"{}\%y\char`\"{},\char`\"{}\char`\"{}+date.\+get\+Year());fmt=fmt.\+replace(\char`\"{}\%m\char`\"{}, add\+Zeros(date.\+get\+Month()+1, 2));fmt=fmt.\+replace(\char`\"{}\%d\char`\"{}, add\+Zeros(date.\+get\+Date(), 2));fmt=fmt.\+replace(\char`\"{}\%H\char`\"{},\char`\"{}\char`\"{}+add\+Zeros(date.\+get\+Hours(), 2));fmt=fmt.\+replace(\char`\"{}\%M\char`\"{},\char`\"{}\char`\"{}+add\+Zeros(date.\+get\+Minutes(), 2));fmt=fmt.\+replace(\char`\"{}\%S\char`\"{},\char`\"{}\char`\"{}+add\+Zeros(date.\+get\+Seconds(), 2));fmt=fmt.\+replace(\char`\"{}\%I\char`\"{},\char`\"{}\char`\"{}+((date.\+get\+Hours()+11)\%12+1));fmt=fmt.\+replace(\char`\"{}\%p\char`\"{},\char`\"{}\char`\"{}+(date.\+get\+Hours()$<$ 12?\char`\"{}A\+M\char`\"{}\+:\char`\"{}P\+M\char`\"{}));fmt=fmt.\+replace(\char`\"{}\%B\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(months\+Long\mbox{[}date.\+get\+Month()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%b\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(months\+Short\mbox{[}date.\+get\+Month()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%A\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(days\+Long\mbox{[}date.\+get\+Day()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%a\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(days\+Short\mbox{[}date.\+get\+Day()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%\%\char`\"{},\char`\"{}\%\char`\"{});return fmt;\}function replace\+Vals(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{var dom=editor.\+dom, vl=\hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}('template\+\_\+replace\+\_\+values');\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}(\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{dom.\+select}('$\ast$', \hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e}), function(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}(vl, function(\hyperlink{jquery_8fancybox_8pack_8js_a207400f40ed647015069564fa40946e1}{v}, \hyperlink{jquery_8knob_8js_ab26645c014aa005ecedef329ecf58c99}{k})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(dom.\+has\+Class(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e}, \hyperlink{jquery_8knob_8js_ab26645c014aa005ecedef329ecf58c99}{k}))\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(\hyperlink{extras_2_scroller_2media_2docs_2media_2js_2sh_brush_j_script_8js_a93a9266f92d6d68644e7aa63da3caa11}{typeof}(vl\mbox{[}\hyperlink{jquery_8knob_8js_ab26645c014aa005ecedef329ecf58c99}{k}\mbox{]})== 'function')\{vl\mbox{[}\hyperlink{jquery_8knob_8js_ab26645c014aa005ecedef329ecf58c99}{k}\mbox{]}(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e});\}\}\});\});\}function replace\+Template\+Values(\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html}, template\+Values\+Option\+Name)\{\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}(\hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}(template\+Values\+Option\+Name), function(\hyperlink{jquery_8fancybox_8pack_8js_a207400f40ed647015069564fa40946e1}{v}, \hyperlink{jquery_8knob_8js_ab26645c014aa005ecedef329ecf58c99}{k})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(\hyperlink{extras_2_scroller_2media_2docs_2media_2js_2sh_brush_j_script_8js_a93a9266f92d6d68644e7aa63da3caa11}{typeof}(\hyperlink{jquery_8fancybox_8pack_8js_a207400f40ed647015069564fa40946e1}{v})!= 'function')\{\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html}=html.\+replace(new Reg\+Exp('\textbackslash{}\textbackslash{}\{\textbackslash{}\textbackslash{}\$'+\hyperlink{jquery_8knob_8js_ab26645c014aa005ecedef329ecf58c99}{k}+ '\textbackslash{}\textbackslash{}\}', '\hyperlink{fullpage_2plugin_8min_8js_a103df269476e78897c9c4c6cb8f4eb06}{g}'), \hyperlink{jquery_8fancybox_8pack_8js_a207400f40ed647015069564fa40946e1}{v});\}\});return \hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html};\}function insert\+Template(\hyperlink{jquery-ui_8js_ac492f8de2d00b6c4282e766bfadaf2e7}{ui}, \hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html})\{var el, \hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}, dom=editor.\+dom, sel=\hyperlink{fullpage_2plugin_8js_a6851543822a32009eced4941b49728c0}{editor.\+selection.\+get\+Content}();\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html}=replace\+Template\+Values(\hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html}, 'template\+\_\+replace\+\_\+values');el=dom.\+create('div', \hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null}, \hyperlink{tinymce_8jquery_8dev_8js_ac2090bcf2ff968c0083d5de53a6544f3}{html});\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}=\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{dom.\+select}('.mce\+Tmpl', el);\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n} \&\&n.\+length $>$ 0)\{el=dom.\+create('div', \hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null});\hyperlink{jquery-ui_8js_a282eb35406abfe6001815a393642b8cb}{el.\+append\+Child}(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}\mbox{[}0\mbox{]}.clone\+Node(true));\}function has\+Class(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}, \hyperlink{fullpage_2plugin_8min_8js_a92587cc54822a9f38871b2d0e0952da1}{c})\{return new Reg\+Exp('\textbackslash{}\textbackslash{}\hyperlink{media_2js_2jquery_8js_ac0431efac4d7c393d1e70b86115cb93f}{b}'+\hyperlink{fullpage_2plugin_8min_8js_a92587cc54822a9f38871b2d0e0952da1}{c}+ '\textbackslash{}\textbackslash{}\hyperlink{media_2js_2jquery_8js_ac0431efac4d7c393d1e70b86115cb93f}{b}', '\hyperlink{fullpage_2plugin_8min_8js_a103df269476e78897c9c4c6cb8f4eb06}{g}').test(\hyperlink{validate_8js_abbe788cfd8330266bd93d69ea395d1d0}{n.\+class\+Name});\}\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}(\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{dom.\+select}('$\ast$', el), function(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(has\+Class(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}, \hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}('template\+\_\+cdate\+\_\+classes', 'cdate').replace(/\textbackslash{}\hyperlink{validate_8js_ae059f217efaf1d50696a1214c3ce5748}{s}+/\hyperlink{fullpage_2plugin_8min_8js_a103df269476e78897c9c4c6cb8f4eb06}{g}, '$\vert$')))\{\hyperlink{jquery-ui_8js_a87f73c4f0391c1cf9fe60374a76d9a7b}{n.\+inner\+H\+T\+M\+L}=get\+Date\+Time(\hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}(\char`\"{}template\+\_\+cdate\+\_\+format\char`\"{}, editor.\+get\+Lang(\char`\"{}template.\+cdate\+\_\+format\char`\"{})));\}if(has\+Class(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}, \hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}('template\+\_\+mdate\+\_\+classes', 'mdate').replace(/\textbackslash{}\hyperlink{validate_8js_ae059f217efaf1d50696a1214c3ce5748}{s}+/\hyperlink{fullpage_2plugin_8min_8js_a103df269476e78897c9c4c6cb8f4eb06}{g}, '$\vert$')))\{\hyperlink{jquery-ui_8js_a87f73c4f0391c1cf9fe60374a76d9a7b}{n.\+inner\+H\+T\+M\+L}=get\+Date\+Time(\hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}(\char`\"{}template\+\_\+mdate\+\_\+format\char`\"{}, editor.\+get\+Lang(\char`\"{}template.\+mdate\+\_\+format\char`\"{})));\}if(has\+Class(\hyperlink{fullpage_2plugin_8min_8js_ab767a859d1217315f42c9bb52fc648dc}{n}, \hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}('template\+\_\+selected\+\_\+content\+\_\+classes', 'selcontent').replace(/\textbackslash{}\hyperlink{validate_8js_ae059f217efaf1d50696a1214c3ce5748}{s}+/\hyperlink{fullpage_2plugin_8min_8js_a103df269476e78897c9c4c6cb8f4eb06}{g}, '$\vert$')))\{\hyperlink{jquery-ui_8js_a87f73c4f0391c1cf9fe60374a76d9a7b}{n.\+inner\+H\+T\+M\+L}=sel;\}\});replace\+Vals(el);editor.\+exec\+Command('mce\+Insert\+Content', \hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false}, \hyperlink{jquery-ui_8js_a87f73c4f0391c1cf9fe60374a76d9a7b}{el.\+inner\+H\+T\+M\+L});editor.\+add\+Visual();\}\hyperlink{fullpage_2plugin_8min_8js_a6fbe8fb946bd604a24be2601156d9a03}{editor.\+add\+Command}('mce\+Insert\+Template', insert\+Template);\hyperlink{fullpage_2plugin_8min_8js_aaae28359b3a3a6d0ae04231039eb7f9e}{editor.\+add\+Button}('template',\{title\+: 'Insert template', onclick\+:create\+Template\+List(show\+Dialog)\});\hyperlink{fullpage_2plugin_8min_8js_a0f87fa0589e24d2778208f3e61ea1a10}{editor.\+add\+Menu\+Item}('template',\{text\+: 'Insert template', onclick\+:create\+Template\+List(show\+Dialog), context\+: 'insert'\});\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('Pre\+Process', function(\hyperlink{fullpage_2plugin_8min_8js_a4afc7c854f61c136d7bcfa8997651b88}{o})\{var dom=editor.\+dom;\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}(\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{dom.\+select}('div', o.\+node), function(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(dom.\+has\+Class(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e}, 'mce\+Tmpl'))\{\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}(\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{dom.\+select}('$\ast$', \hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e}), function(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(dom.\+has\+Class(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e}, \hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}('template\+\_\+mdate\+\_\+classes', 'mdate').replace(/\textbackslash{}\hyperlink{validate_8js_ae059f217efaf1d50696a1214c3ce5748}{s}+/\hyperlink{fullpage_2plugin_8min_8js_a103df269476e78897c9c4c6cb8f4eb06}{g}, '$\vert$')))\{\hyperlink{jquery-ui_8js_a87f73c4f0391c1cf9fe60374a76d9a7b}{e.\+inner\+H\+T\+M\+L}=get\+Date\+Time(\hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}(\char`\"{}template\+\_\+mdate\+\_\+format\char`\"{}, editor.\+get\+Lang(\char`\"{}template.\+mdate\+\_\+format\char`\"{})));\}\});replace\+Vals(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e});\}\});\});\})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{template_2plugin_8js_a9074632bb8961e51cd682bb629a969d4}{\index{template/plugin.\+js@{template/plugin.\+js}!add@{add}}
\index{add@{add}!template/plugin.\+js@{template/plugin.\+js}}
\subsubsection[{add}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tinymce} Plugin\+Manager add (
\begin{DoxyParamCaption}
\item[{'template'}]{, }
\item[{function(editor)\{var {\bf each}={\bf tinymce.\+each};function create\+Template\+List(callback)\{return function()\{var template\+List=editor.\+settings.\+templates;{\bf if}({\bf typeof}(template\+List)==\char`\"{}string\char`\"{})\{tinymce.\+util.\+X\+H\+R.\+send(\{url\+:template\+List, success\+:function(text)\{callback(tinymce.\+util.\+J\+S\+O\+N.\+parse(text));\}\});\}{\bf else}\{callback(template\+List);\}\};\}function show\+Dialog(template\+List)\{var win, values=\mbox{[}$\,$\mbox{]}, template\+Html;{\bf if}(!template\+List$\vert$$\vert$template\+List.\+length===0)\{editor.\+window\+Manager.\+alert('No templates {\bf defined}');return;\}{\bf tinymce.\+each}(template\+List, function(template)\{{\bf values.\+push}(\{selected\+:!values.\+length, {\bf text\+:template.\+title}, value\+:\{url\+:template.\+url, content\+:template.\+content, description\+:template.\+description\}\});\});function on\+Select\+Template({\bf e})\{var {\bf value}={\bf e.\+control.\+value}();function insert\+Iframe\+Html({\bf html})\{{\bf if}(html.\+index\+Of('$<$ {\bf html} $>$')==-\/1)\{var content\+Css\+Links= '';{\bf tinymce.\+each}(editor.\+content\+C\+S\+S, function(url)\{content\+Css\+Links+= '$<$ link type=\char`\"{}text/{\bf css}\char`\"{}rel=\char`\"{}stylesheet\char`\"{}href=\char`\"{}' + editor.\+document\+Base\+U\+R\+I.\+to\+Absolute(url) + '\char`\"{}$>$';\});html=('$<$!D\+O\+C\+T\+Y\+P\+E {\bf html} $>$'+'$<$ {\bf html} $>$'+'$<$ head $>$'+content\+Css\+Links+'$<$/head $>$'+'$<$ body $>$'+{\bf html}+'$<$/body $>$'+'$<$/{\bf html} $>$');\}{\bf html}=replace\+Template\+Values({\bf html}, 'template\+\_\+preview\+\_\+replace\+\_\+values');var {\bf doc}=win.\+find('iframe')\mbox{[}0\mbox{]}.get\+El().{\bf content\+Window.\+document};doc.\+open();doc.\+write({\bf html});doc.\+close();\}{\bf if}(value.\+url)\{tinymce.\+util.\+X\+H\+R.\+send(\{url\+:value.\+url, success\+:function({\bf html})\{template\+Html={\bf html};insert\+Iframe\+Html(template\+Html);\}\});\}{\bf else}\{template\+Html=value.\+content;insert\+Iframe\+Html(template\+Html);\}win.\+find('\#description')\mbox{[}0\mbox{]}.text({\bf e.\+control.\+value}().description);\}win=editor.\+window\+Manager.\+open(\{title\+: 'Insert template', layout\+: 'flex', direction\+: 'column', align\+: 'stretch', padding\+:15, spacing\+:10, items\+:\mbox{[}\{type\+: 'form', flex\+:0, padding\+:0, items\+:\mbox{[}\{type\+: 'container', label\+: 'Templates', items\+:\{type\+: 'listbox', label\+: 'Templates', name\+: 'template', values\+:values, onselect\+:on\+Select\+Template\}\}\mbox{]}\},\{type\+: 'label', name\+: 'description', label\+: 'Description', text\+: '\textbackslash{}u00a0'\},\{type\+: 'iframe', flex\+:1, border\+:1\}\mbox{]}, onsubmit\+:function()\{insert\+Template({\bf false}, template\+Html);\}, {\bf width\+:editor.\+get\+Param}('template\+\_\+popup\+\_\+width', 600), {\bf height\+:editor.\+get\+Param}('template\+\_\+popup\+\_\+height', 500)\});win.\+find('listbox')\mbox{[}0\mbox{]}.{\bf fire}('{\bf select}');\}function get\+Date\+Time(fmt, date)\{var days\+Short=\char`\"{}Sun Mon Tue Wed Thu Fri Sat Sun\char`\"{}.split(' ');var days\+Long=\char`\"{}Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\char`\"{}.split(' ');var months\+Short=\char`\"{}Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\char`\"{}.split(' ');var months\+Long=\char`\"{}January February March April May June July August September October November December\char`\"{}.split(' ');function add\+Zeros({\bf value}, len)\{{\bf value}=\char`\"{}\char`\"{}+{\bf value};{\bf if}(value.\+length$<$ len)\{{\bf for}(var {\bf i}=0;{\bf i}$<$ (len-\/value.\+length);{\bf i}++)\{{\bf value}=\char`\"{}0\char`\"{}+{\bf value};\}\}return {\bf value};\}date=date$\vert$$\vert$new Date();fmt=fmt.\+replace(\char`\"{}\%D\char`\"{},\char`\"{}\%m/\%{\bf d}/\%Y\char`\"{});fmt=fmt.\+replace(\char`\"{}\%r\char`\"{},\char`\"{}\%I\+:\%M\+:\%S \%{\bf p}\char`\"{});fmt=fmt.\+replace(\char`\"{}\%Y\char`\"{},\char`\"{}\char`\"{}+date.\+get\+Full\+Year());fmt=fmt.\+replace(\char`\"{}\%y\char`\"{},\char`\"{}\char`\"{}+date.\+get\+Year());fmt=fmt.\+replace(\char`\"{}\%m\char`\"{}, add\+Zeros(date.\+get\+Month()+1, 2));fmt=fmt.\+replace(\char`\"{}\%d\char`\"{}, add\+Zeros(date.\+get\+Date(), 2));fmt=fmt.\+replace(\char`\"{}\%H\char`\"{},\char`\"{}\char`\"{}+add\+Zeros(date.\+get\+Hours(), 2));fmt=fmt.\+replace(\char`\"{}\%M\char`\"{},\char`\"{}\char`\"{}+add\+Zeros(date.\+get\+Minutes(), 2));fmt=fmt.\+replace(\char`\"{}\%S\char`\"{},\char`\"{}\char`\"{}+add\+Zeros(date.\+get\+Seconds(), 2));fmt=fmt.\+replace(\char`\"{}\%I\char`\"{},\char`\"{}\char`\"{}+((date.\+get\+Hours()+11)\%12+1));fmt=fmt.\+replace(\char`\"{}\%p\char`\"{},\char`\"{}\char`\"{}+(date.\+get\+Hours()$<$ 12?\char`\"{}A\+M\char`\"{}\+:\char`\"{}P\+M\char`\"{}));fmt=fmt.\+replace(\char`\"{}\%B\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(months\+Long\mbox{[}date.\+get\+Month()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%b\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(months\+Short\mbox{[}date.\+get\+Month()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%A\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(days\+Long\mbox{[}date.\+get\+Day()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%a\char`\"{},\char`\"{}\char`\"{}+editor.\+translate(days\+Short\mbox{[}date.\+get\+Day()\mbox{]}));fmt=fmt.\+replace(\char`\"{}\%\%\char`\"{},\char`\"{}\%\char`\"{});return fmt;\}function replace\+Vals({\bf e})\{var dom=editor.\+dom, vl={\bf editor.\+get\+Param}('template\+\_\+replace\+\_\+values');{\bf each}({\bf dom.\+select}('$\ast$', {\bf e}), function({\bf e})\{{\bf each}(vl, function({\bf v}, {\bf k})\{{\bf if}(dom.\+has\+Class({\bf e}, {\bf k}))\{{\bf if}({\bf typeof}(vl\mbox{[}{\bf k}\mbox{]})== 'function')\{vl\mbox{[}{\bf k}\mbox{]}({\bf e});\}\}\});\});\}function replace\+Template\+Values({\bf html}, template\+Values\+Option\+Name)\{{\bf each}({\bf editor.\+get\+Param}(template\+Values\+Option\+Name), function({\bf v}, {\bf k})\{{\bf if}({\bf typeof}({\bf v})!= 'function')\{{\bf html}=html.\+replace(new Reg\+Exp('\textbackslash{}\textbackslash{}\{\textbackslash{}\textbackslash{}\$'+{\bf k}+ '\textbackslash{}\textbackslash{}\}', '{\bf g}'), {\bf v});\}\});return {\bf html};\}function insert\+Template({\bf ui}, {\bf html})\{var el, {\bf n}, dom=editor.\+dom, sel={\bf editor.\+selection.\+get\+Content}();{\bf html}=replace\+Template\+Values({\bf html}, 'template\+\_\+replace\+\_\+values');el=dom.\+create('div', {\bf null}, {\bf html});{\bf n}={\bf dom.\+select}('.mce\+Tmpl', el);{\bf if}({\bf n} \&\&n.\+length $>$ 0)\{el=dom.\+create('div', {\bf null});{\bf el.\+append\+Child}({\bf n}\mbox{[}0\mbox{]}.clone\+Node(true));\}function has\+Class({\bf n}, {\bf c})\{return new Reg\+Exp('\textbackslash{}\textbackslash{}{\bf b}'+{\bf c}+ '\textbackslash{}\textbackslash{}{\bf b}', '{\bf g}').test({\bf n.\+class\+Name});\}{\bf each}({\bf dom.\+select}('$\ast$', el), function({\bf n})\{{\bf if}(has\+Class({\bf n}, {\bf editor.\+get\+Param}('template\+\_\+cdate\+\_\+classes', 'cdate').replace(/\textbackslash{}{\bf s}+/{\bf g}, '$\vert$')))\{{\bf n.\+inner\+H\+T\+M\+L}=get\+Date\+Time({\bf editor.\+get\+Param}(\char`\"{}template\+\_\+cdate\+\_\+format\char`\"{}, editor.\+get\+Lang(\char`\"{}template.\+cdate\+\_\+format\char`\"{})));\}if(has\+Class({\bf n}, {\bf editor.\+get\+Param}('template\+\_\+mdate\+\_\+classes', 'mdate').replace(/\textbackslash{}{\bf s}+/{\bf g}, '$\vert$')))\{{\bf n.\+inner\+H\+T\+M\+L}=get\+Date\+Time({\bf editor.\+get\+Param}(\char`\"{}template\+\_\+mdate\+\_\+format\char`\"{}, editor.\+get\+Lang(\char`\"{}template.\+mdate\+\_\+format\char`\"{})));\}if(has\+Class({\bf n}, {\bf editor.\+get\+Param}('template\+\_\+selected\+\_\+content\+\_\+classes', 'selcontent').replace(/\textbackslash{}{\bf s}+/{\bf g}, '$\vert$')))\{{\bf n.\+inner\+H\+T\+M\+L}=sel;\}\});replace\+Vals(el);editor.\+exec\+Command('mce\+Insert\+Content', {\bf false}, {\bf el.\+inner\+H\+T\+M\+L});editor.\+add\+Visual();\}{\bf editor.\+add\+Command}('mce\+Insert\+Template', insert\+Template);{\bf editor.\+add\+Button}('template',\{title\+: 'Insert template', onclick\+:create\+Template\+List(show\+Dialog)\});{\bf editor.\+add\+Menu\+Item}('template',\{text\+: 'Insert template', onclick\+:create\+Template\+List(show\+Dialog), context\+: 'insert'\});{\bf editor.\+on}('Pre\+Process', function({\bf o})\{var dom=editor.\+dom;{\bf each}({\bf dom.\+select}('div', o.\+node), function({\bf e})\{{\bf if}(dom.\+has\+Class({\bf e}, 'mce\+Tmpl'))\{{\bf each}({\bf dom.\+select}('$\ast$', {\bf e}), function({\bf e})\{{\bf if}(dom.\+has\+Class({\bf e}, {\bf editor.\+get\+Param}('template\+\_\+mdate\+\_\+classes', 'mdate').replace(/\textbackslash{}{\bf s}+/{\bf g}, '$\vert$')))\{{\bf e.\+inner\+H\+T\+M\+L}=get\+Date\+Time({\bf editor.\+get\+Param}(\char`\"{}template\+\_\+mdate\+\_\+format\char`\"{}, editor.\+get\+Lang(\char`\"{}template.\+mdate\+\_\+format\char`\"{})));\}\});replace\+Vals({\bf e});\}\});\});\}}]{}
\end{DoxyParamCaption}
)}}\label{template_2plugin_8js_a9074632bb8961e51cd682bb629a969d4}
plugin.\+js

Copyright, Moxiecode Systems A\+B Released under L\+G\+P\+L License.

License\+: \href{http://www.tinymce.com/license}{\tt http\+://www.\+tinymce.\+com/license} Contributing\+: \href{http://www.tinymce.com/contributing}{\tt http\+://www.\+tinymce.\+com/contributing} 