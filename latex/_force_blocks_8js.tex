\hypertarget{_force_blocks_8js}{\section{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/classes/\+Force\+Blocks.js File Reference}
\label{_force_blocks_8js}\index{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/classes/\+Force\+Blocks.\+js@{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/classes/\+Force\+Blocks.\+js}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_force_blocks_8js_a55f49d1c37f51aef3789bfe39288bee1}{define} (\char`\"{}tinymce/Force\+Blocks\char`\"{}, \mbox{[}$\,$\mbox{]}, function()\{return function(editor)\{var \hyperlink{jquery_8tooltip_8js_a52fb9116a07f71570fbf0bd12ff4c9f8}{settings}=\hyperlink{jquery_8tooltip_8js_a52fb9116a07f71570fbf0bd12ff4c9f8}{editor.\+settings}, dom=editor.\+dom, selection=editor.\+selection;var schema=editor.\+schema, block\+Elements=schema.\+get\+Block\+Elements();function add\+Root\+Blocks()\{var node=selection.\+get\+Start(), root\+Node=editor.\+get\+Body(), rng;var start\+Container, start\+Offset, end\+Container, end\+Offset, root\+Block\+Node;var temp\+Node, \hyperlink{jquery-1_89_81_8js_a4a9f594d20d927164551fc7fa4751a2f}{offset}=-\/0x\+F\+F\+F\+F\+F\+F, wrapped, restore\+Selection;var tmp\+Rng, root\+Node\+Name, forced\+Root\+Block;forced\+Root\+Block=settings.\+forced\+\_\+root\+\_\+block;if(!node$\vert$$\vert$node.\+node\+Type!==1$\vert$$\vert$!forced\+Root\+Block)\{return;\}while(node \&\&node!=root\+Node)\{if(block\+Elements\mbox{[}node.\+node\+Name\mbox{]})\{return;\}node=node.\+parent\+Node;\}rng=selection.\+get\+Rng();if(rng.\+set\+Start)\{start\+Container=rng.\+start\+Container;start\+Offset=rng.\+start\+Offset;end\+Container=rng.\+end\+Container;end\+Offset=rng.\+end\+Offset;try\{restore\+Selection=editor.\+get\+Doc().\+active\+Element===root\+Node;\}catch(ex)\{\}\}else\{if(rng.\+item)\{node=rng.\+item(0);rng=editor.\+get\+Doc().\+body.\+create\+Text\+Range();rng.\+move\+To\+Element\+Text(node);\}restore\+Selection=rng.\+parent\+Element().\+owner\+Document===editor.\+get\+Doc();tmp\+Rng=rng.\+duplicate();tmp\+Rng.\+collapse(true);start\+Offset=tmp\+Rng.\+move('character', offset)$\ast$-\/1;if(!tmp\+Rng.\+collapsed)\{tmp\+Rng=rng.\+duplicate();tmp\+Rng.\+collapse(false);end\+Offset=(tmp\+Rng.\+move('character', offset)$\ast$-\/1)-\/start\+Offset;\}\}node=root\+Node.\+first\+Child;root\+Node\+Name=root\+Node.\+node\+Name.\+to\+Lower\+Case();while(node)\{if(((node.\+node\+Type===3$\vert$$\vert$(node.\+node\+Type==1 \&\&!block\+Elements\mbox{[}node.\+node\+Name\mbox{]})))\&\&schema.\+is\+Valid\+Child(root\+Node\+Name, forced\+Root\+Block.\+to\+Lower\+Case()))\{if(node.\+node\+Type===3 \&\&node.\+node\+Value.\+length===0)\{temp\+Node=node;node=node.\+next\+Sibling;dom.\+remove(temp\+Node);continue;\}if(!root\+Block\+Node)\{root\+Block\+Node=dom.\+create(forced\+Root\+Block, editor.\+settings.\+forced\+\_\+root\+\_\+block\+\_\+attrs);node.\+parent\+Node.\+insert\+Before(root\+Block\+Node, node);wrapped=true;\}temp\+Node=node;node=node.\+next\+Sibling;root\+Block\+Node.\+append\+Child(temp\+Node);\}else\{root\+Block\+Node=null;node=node.\+next\+Sibling;\}\}if(wrapped \&\&restore\+Selection)\{if(rng.\+set\+Start)\{rng.\+set\+Start(start\+Container, start\+Offset);rng.\+set\+End(end\+Container, end\+Offset);selection.\+set\+Rng(rng);\}else\{try\{rng=editor.\+get\+Doc().\+body.\+create\+Text\+Range();rng.\+move\+To\+Element\+Text(root\+Node);rng.\+collapse(true);rng.\+move\+Start('character', start\+Offset);if(end\+Offset $>$ 0)\{rng.\+move\+End('character', end\+Offset);\}rng.\+select();\}catch(ex)\{\}\}editor.\+node\+Changed();\}\}if(settings.\+forced\+\_\+root\+\_\+block)\{editor.\+on('\+Node\+Change', add\+Root\+Blocks);\}\};\})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{_force_blocks_8js_a55f49d1c37f51aef3789bfe39288bee1}{\index{Force\+Blocks.\+js@{Force\+Blocks.\+js}!define@{define}}
\index{define@{define}!Force\+Blocks.\+js@{Force\+Blocks.\+js}}
\subsubsection[{define}]{\setlength{\rightskip}{0pt plus 5cm}define (
\begin{DoxyParamCaption}
\item[{\char`\"{}tinymce/Force\+Blocks\char`\"{}}]{, }
\item[{function()\{return function(editor)\{var {\bf settings}={\bf editor.\+settings}, dom=editor.\+dom, selection=editor.\+selection;var schema=editor.\+schema, block\+Elements=schema.\+get\+Block\+Elements();function add\+Root\+Blocks()\{var node=selection.\+get\+Start(), root\+Node=editor.\+get\+Body(), rng;var start\+Container, start\+Offset, end\+Container, end\+Offset, root\+Block\+Node;var temp\+Node, {\bf offset}=-\/0x\+F\+F\+F\+F\+F\+F, wrapped, restore\+Selection;var tmp\+Rng, root\+Node\+Name, forced\+Root\+Block;forced\+Root\+Block=settings.\+forced\+\_\+root\+\_\+block;if(!node$\vert$$\vert$node.\+node\+Type!==1$\vert$$\vert$!forced\+Root\+Block)\{return;\}while(node \&\&node!=root\+Node)\{if(block\+Elements\mbox{[}node.\+node\+Name\mbox{]})\{return;\}node=node.\+parent\+Node;\}rng=selection.\+get\+Rng();if(rng.\+set\+Start)\{start\+Container=rng.\+start\+Container;start\+Offset=rng.\+start\+Offset;end\+Container=rng.\+end\+Container;end\+Offset=rng.\+end\+Offset;try\{restore\+Selection=editor.\+get\+Doc().\+active\+Element===root\+Node;\}catch(ex)\{\}\}else\{if(rng.\+item)\{node=rng.\+item(0);rng=editor.\+get\+Doc().\+body.\+create\+Text\+Range();rng.\+move\+To\+Element\+Text(node);\}restore\+Selection=rng.\+parent\+Element().\+owner\+Document===editor.\+get\+Doc();tmp\+Rng=rng.\+duplicate();tmp\+Rng.\+collapse(true);start\+Offset=tmp\+Rng.\+move('character', offset)$\ast$-\/1;if(!tmp\+Rng.\+collapsed)\{tmp\+Rng=rng.\+duplicate();tmp\+Rng.\+collapse(false);end\+Offset=(tmp\+Rng.\+move('character', offset)$\ast$-\/1)-\/start\+Offset;\}\}node=root\+Node.\+first\+Child;root\+Node\+Name=root\+Node.\+node\+Name.\+to\+Lower\+Case();while(node)\{if(((node.\+node\+Type===3$\vert$$\vert$(node.\+node\+Type==1 \&\&!block\+Elements\mbox{[}node.\+node\+Name\mbox{]})))\&\&schema.\+is\+Valid\+Child(root\+Node\+Name, forced\+Root\+Block.\+to\+Lower\+Case()))\{if(node.\+node\+Type===3 \&\&node.\+node\+Value.\+length===0)\{temp\+Node=node;node=node.\+next\+Sibling;dom.\+remove(temp\+Node);continue;\}if(!root\+Block\+Node)\{root\+Block\+Node=dom.\+create(forced\+Root\+Block, editor.\+settings.\+forced\+\_\+root\+\_\+block\+\_\+attrs);node.\+parent\+Node.\+insert\+Before(root\+Block\+Node, node);wrapped=true;\}temp\+Node=node;node=node.\+next\+Sibling;root\+Block\+Node.\+append\+Child(temp\+Node);\}else\{root\+Block\+Node=null;node=node.\+next\+Sibling;\}\}if(wrapped \&\&restore\+Selection)\{if(rng.\+set\+Start)\{rng.\+set\+Start(start\+Container, start\+Offset);rng.\+set\+End(end\+Container, end\+Offset);selection.\+set\+Rng(rng);\}else\{try\{rng=editor.\+get\+Doc().\+body.\+create\+Text\+Range();rng.\+move\+To\+Element\+Text(root\+Node);rng.\+collapse(true);rng.\+move\+Start('character', start\+Offset);if(end\+Offset $>$ 0)\{rng.\+move\+End('character', end\+Offset);\}rng.\+select();\}catch(ex)\{\}\}editor.\+node\+Changed();\}\}if(settings.\+forced\+\_\+root\+\_\+block)\{editor.\+on('\+Node\+Change', add\+Root\+Blocks);\}\};\}}]{}
\end{DoxyParamCaption}
)}}\label{_force_blocks_8js_a55f49d1c37f51aef3789bfe39288bee1}
\hyperlink{_force_blocks_8js}{Force\+Blocks.\+js}

Copyright, Moxiecode Systems A\+B Released under L\+G\+P\+L License.

License\+: \href{http://www.tinymce.com/license}{\tt http\+://www.\+tinymce.\+com/license} Contributing\+: \href{http://www.tinymce.com/contributing}{\tt http\+://www.\+tinymce.\+com/contributing} 