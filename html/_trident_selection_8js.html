<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>singerfrance.com: src/AcmeGroup/LaboBundle/Resources/public/js/tinymce/classes/dom/TridentSelection.js File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">singerfrance.com
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e8c8e960511e2fc9a2285c26ffe103b3.html">src</a></li><li class="navelem"><a class="el" href="dir_8e24a62f8e05e1ad729af286ae0efb38.html">AcmeGroup</a></li><li class="navelem"><a class="el" href="dir_3c3da10e273bb183886e43a78fd60791.html">LaboBundle</a></li><li class="navelem"><a class="el" href="dir_69bdc8d5745e5f031f5a949defeb3fd7.html">Resources</a></li><li class="navelem"><a class="el" href="dir_a5e9f40a6b65c04710ddc86d685073d9.html">public</a></li><li class="navelem"><a class="el" href="dir_eaf7efb268cacf2520f7cf90a7c721f0.html">js</a></li><li class="navelem"><a class="el" href="dir_76ae24136a0d00551584ac5fd47b39ae.html">tinymce</a></li><li class="navelem"><a class="el" href="dir_b7a7f875a7d2baa9f52269f660e8383e.html">classes</a></li><li class="navelem"><a class="el" href="dir_ac48732fec96c8d9c00aaa335f25fe8a.html">dom</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TridentSelection.js File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1359649c9966499a55829678465fdfc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_trident_selection_8js.html#a1359649c9966499a55829678465fdfc1">define</a> (&quot;tinymce/dom/TridentSelection&quot;, [], function(){function Selection(selection){var self=<a class="el" href="tinymce_8jquery_8dev_8js.html#a05c09a5e9d53fa7adf0a7936038c2fa3">this</a>, dom=selection.dom, FALSE=<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;function getPosition(rng, <a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var checkRng, startIndex=0, endIndex, inside, children, child, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, index, <a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>=-1, parent;checkRng=rng.duplicate();checkRng.collapse(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);parent=checkRng.parentElement();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parent.ownerDocument!==<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">selection.dom.doc</a>){return;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(parent.contentEditable===&quot;false&quot;){parent=parent.parentNode;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!parent.hasChildNodes()){return{node:parent, inside:1};}children=parent.children;endIndex=children.length-1;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(startIndex&lt;=endIndex){index=Math.floor((startIndex+endIndex)/2);child=children[index];checkRng.moveToElementText(child);<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>=checkRng.compareEndPoints(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToEnd', rng);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a> &gt; 0){endIndex=index-1;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>&lt; 0){startIndex=index+1;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{return{node:child};}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>&lt; 0){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!child){checkRng.moveToElementText(parent);checkRng.collapse(true);child=parent;inside=true;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{checkRng.collapse(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);}<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(checkRng.compareEndPoints(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'StartToEnd', rng)!==0){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(checkRng.move('character', 1)===0||parent!=checkRng.parentElement()){break;}<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>++;}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{checkRng.collapse(true);<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(checkRng.compareEndPoints(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'StartToEnd', rng)!==0){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(checkRng.move('character',-1)===0||parent!=checkRng.parentElement()){break;}<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>++;}}return{node:child, position:position, offset:offset, inside:inside};}function getRange(){var ieRange=selection.getRng(), domRange=dom.createRng(), element, collapsed, tmpRange, element2, bookmark;element=ieRange.item?ieRange.item(0):ieRange.parentElement();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(element.ownerDocument!=<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">dom.doc</a>){return domRange;}collapsed=selection.isCollapsed();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(ieRange.item){domRange.setStart(element.parentNode, dom.nodeIndex(element));domRange.setEnd(domRange.startContainer, domRange.startOffset+1);return domRange;}function findEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var endPoint=getPosition(ieRange, <a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>), container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, textNodeOffset=0, sibling, undef, nodeValue;container=endPoint.node;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">endPoint.offset</a>;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(endPoint.inside &amp;&amp;!container.hasChildNodes()){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](container, 0);return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>===undef){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartBefore': 'setEndAfter'](container);return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">endPoint.position</a>&lt; 0){sibling=endPoint.inside?container.firstChild:container.nextSibling;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!sibling){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartAfter': 'setEndAfter'](container);return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(sibling.nodeType==3){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](sibling, 0);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartBefore': 'setEndBefore'](sibling);}return;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(sibling){nodeValue=sibling.nodeValue;textNodeOffset+=nodeValue.length;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(textNodeOffset &gt;=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){container=sibling;textNodeOffset-=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>;textNodeOffset=nodeValue.length-textNodeOffset;break;}sibling=sibling.nextSibling;}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{sibling=container.previousSibling;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!sibling){return domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartBefore': 'setEndBefore'](container);}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](sibling, container.nodeValue.length);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartAfter': 'setEndAfter'](sibling);}return;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(sibling){textNodeOffset+=sibling.nodeValue.length;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(textNodeOffset &gt;=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){container=sibling;textNodeOffset-=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>;break;}sibling=sibling.previousSibling;}}domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](container, textNodeOffset);}<a class="el" href="jquery-1_89_81_8js.html#abe4cc9788f52e49485473dc699537388">try</a>{findEndPoint(true);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!collapsed){findEndPoint();}}<a class="el" href="jquery-1_89_81_8js.html#a5bf45fc51bc0426586792b5f9cb95431">catch</a>(ex){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(ex.number==-2147024809){bookmark=self.getBookmark(2);tmpRange=ieRange.duplicate();tmpRange.collapse(true);element=tmpRange.parentElement();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!collapsed){tmpRange=ieRange.duplicate();tmpRange.collapse(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);element2=tmpRange.parentElement();<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element2.innerHTML</a>=<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element2.innerHTML</a>;}<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element.innerHTML</a>=<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element.innerHTML</a>;self.moveToBookmark(bookmark);ieRange=selection.getRng();findEndPoint(true);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!collapsed){findEndPoint();}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{throw ex;}}return domRange;}this.getBookmark=function(type){var rng=selection.getRng(), bookmark={};function getIndexes(node){var parent, <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, children, <a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>, indexes=[];parent=node.parentNode;<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>=dom.getRoot().parentNode;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(parent!=<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a> &amp;&amp;parent.nodeType!==9){children=parent.children;<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>=children.length;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>--){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node===children[<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>]){<a class="el" href="core_8constructor_8js.html#afa3ccdb0f651abf66d93864fc8419c98">indexes.push</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>);break;}}node=parent;parent=parent.parentNode;}return indexes;}function getBookmarkEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var <a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>;<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>=getPosition(rng, <a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>){return{<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position:position.position</a>, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset:position.offset</a>, indexes:getIndexes(position.node), inside:position.inside};}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(type===2){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!rng.item){<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">bookmark.start</a>=getBookmarkEndPoint(true);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!selection.isCollapsed()){bookmark.end=getBookmarkEndPoint();}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">bookmark.start</a>={ctrl:true, indexes:getIndexes(rng.item(0))};}}return bookmark;};this.moveToBookmark=function(bookmark){var rng, body=dom.doc.body;function resolveIndexes(indexes){var node, <a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>, idx, children;node=dom.getRoot();<a class="el" href="tinymce_8jquery_8dev_8js.html#a4675a875b20881bc5f7011f49fbd4da7">for</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>=indexes.length-1;<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a> &gt;=0;<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>--){children=node.children;idx=indexes[<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>];<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(idx&lt;=children.length-1){node=children[idx];}}return node;}function setBookmarkEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var endPoint=bookmark[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? '<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>': 'end'], moveLeft, moveRng, undef, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(endPoint){moveLeft=<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">endPoint.position</a> &gt; 0;moveRng=body.createTextRange();moveRng.moveToElementText(resolveIndexes(endPoint.indexes));<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">endPoint.offset</a>;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(offset!==undef){moveRng.collapse(endPoint.inside||moveLeft);moveRng.moveStart('character', moveLeft?-offset:offset);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{moveRng.collapse(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);}rng.setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToStart', moveRng);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){rng.collapse(true);}}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">bookmark.start</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(bookmark.start.ctrl){rng=body.createControlRange();rng.addElement(resolveIndexes(bookmark.start.indexes));<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">rng.select</a>();}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng=body.createTextRange();setBookmarkEndPoint(true);setBookmarkEndPoint();<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">rng.select</a>();}}};this.addRange=function(rng){var ieRng, ctrlRng, startContainer, startOffset, endContainer, endOffset, sibling, <a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">doc</a>=<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">selection.dom.doc</a>, body=doc.body, nativeRng, ctrlElm;function setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, marker, tmpRng, nodes;marker=dom.create('<a class="el" href="media_2js_2jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a>');container=<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>?startContainer:endContainer;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>?startOffset:endOffset;tmpRng=ieRng.duplicate();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container==<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">doc</a>||container==doc.documentElement){container=body;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3){<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">container.parentNode.insertBefore</a>(marker, container);tmpRng.moveToElementText(marker);tmpRng.moveStart('character', <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(marker);ieRng.setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToEnd', tmpRng);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{nodes=container.childNodes;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nodes.length){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt;=nodes.length){dom.insertAfter(marker, nodes[nodes.length-1]);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">container.insertBefore</a>(marker, nodes[<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>]);}tmpRng.moveToElementText(marker);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.canHaveHTML){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">container.innerHTML</a>= '&lt; span &gt; &amp;#xFEFF;&lt;/span &gt;';marker=container.firstChild;tmpRng.moveToElementText(marker);tmpRng.collapse(FALSE);}ieRng.setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToEnd', tmpRng);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(marker);}}startContainer=rng.startContainer;startOffset=rng.startOffset;endContainer=rng.endContainer;endOffset=rng.endOffset;ieRng=body.createTextRange();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startContainer==endContainer &amp;&amp;startContainer.nodeType==1){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startOffset==endOffset &amp;&amp;!startContainer.hasChildNodes()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startContainer.canHaveHTML){sibling=startContainer.previousSibling;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(sibling &amp;&amp;!sibling.hasChildNodes()&amp;&amp;dom.isBlock(sibling)){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">sibling.innerHTML</a>= '&amp;#xFEFF;';}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{sibling=<a class="el" href="validate_8js.html#afb8e110345c45e74478894341ab6b28e">null</a>;}<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">startContainer.innerHTML</a>= '&lt; span &gt; &amp;#xFEFF;&lt;/span &gt;&lt; span &gt; &amp;#xFEFF;&lt;/span &gt;';ieRng.moveToElementText(startContainer.lastChild);<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">ieRng.select</a>();dom.doc.selection.clear();<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">startContainer.innerHTML</a>= '';<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(sibling){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">sibling.innerHTML</a>= '';}return;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{startOffset=dom.nodeIndex(startContainer);startContainer=startContainer.parentNode;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startOffset==endOffset-1){<a class="el" href="jquery-1_89_81_8js.html#abe4cc9788f52e49485473dc699537388">try</a>{ctrlElm=startContainer.childNodes[startOffset];ctrlRng=body.createControlRange();ctrlRng.addElement(ctrlElm);<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">ctrlRng.select</a>();nativeRng=selection.getRng();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nativeRng.item &amp;&amp;ctrlElm===nativeRng.item(0)){return;}}<a class="el" href="jquery-1_89_81_8js.html#a5bf45fc51bc0426586792b5f9cb95431">catch</a>(ex){}}}setEndPoint(true);setEndPoint();<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">ieRng.select</a>();};this.getRangeAt=getRange;}return Selection;})</td></tr>
<tr class="separator:a1359649c9966499a55829678465fdfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1359649c9966499a55829678465fdfc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">define </td>
          <td>(</td>
          <td class="paramtype">&quot;tinymce/dom/TridentSelection&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function(){function Selection(selection){var self=<a class="el" href="tinymce_8jquery_8dev_8js.html#a05c09a5e9d53fa7adf0a7936038c2fa3">this</a>, dom=selection.dom, FALSE=<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>;function getPosition(rng, <a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var checkRng, startIndex=0, endIndex, inside, children, child, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, index, <a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>=-1, parent;checkRng=rng.duplicate();checkRng.collapse(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);parent=checkRng.parentElement();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(parent.ownerDocument!==<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">selection.dom.doc</a>){return;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(parent.contentEditable===&quot;false&quot;){parent=parent.parentNode;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!parent.hasChildNodes()){return{node:parent, inside:1};}children=parent.children;endIndex=children.length-1;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(startIndex&lt;=endIndex){index=Math.floor((startIndex+endIndex)/2);child=children[index];checkRng.moveToElementText(child);<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>=checkRng.compareEndPoints(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToEnd', rng);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a> &gt; 0){endIndex=index-1;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>&lt; 0){startIndex=index+1;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{return{node:child};}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>&lt; 0){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!child){checkRng.moveToElementText(parent);checkRng.collapse(true);child=parent;inside=true;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{checkRng.collapse(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);}<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(checkRng.compareEndPoints(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'StartToEnd', rng)!==0){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(checkRng.move('character', 1)===0||parent!=checkRng.parentElement()){break;}<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>++;}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{checkRng.collapse(true);<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(checkRng.compareEndPoints(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'StartToEnd', rng)!==0){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(checkRng.move('character',-1)===0||parent!=checkRng.parentElement()){break;}<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>++;}}return{node:child, position:position, offset:offset, inside:inside};}function getRange(){var ieRange=selection.getRng(), domRange=dom.createRng(), element, collapsed, tmpRange, element2, bookmark;element=ieRange.item?ieRange.item(0):ieRange.parentElement();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(element.ownerDocument!=<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">dom.doc</a>){return domRange;}collapsed=selection.isCollapsed();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(ieRange.item){domRange.setStart(element.parentNode, dom.nodeIndex(element));domRange.setEnd(domRange.startContainer, domRange.startOffset+1);return domRange;}function findEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var endPoint=getPosition(ieRange, <a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>), container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, textNodeOffset=0, sibling, undef, nodeValue;container=endPoint.node;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">endPoint.offset</a>;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(endPoint.inside &amp;&amp;!container.hasChildNodes()){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](container, 0);return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>===undef){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartBefore': 'setEndAfter'](container);return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">endPoint.position</a>&lt; 0){sibling=endPoint.inside?container.firstChild:container.nextSibling;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!sibling){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartAfter': 'setEndAfter'](container);return;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(sibling.nodeType==3){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](sibling, 0);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartBefore': 'setEndBefore'](sibling);}return;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(sibling){nodeValue=sibling.nodeValue;textNodeOffset+=nodeValue.length;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(textNodeOffset &gt;=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){container=sibling;textNodeOffset-=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>;textNodeOffset=nodeValue.length-textNodeOffset;break;}sibling=sibling.nextSibling;}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{sibling=container.previousSibling;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!sibling){return domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartBefore': 'setEndBefore'](container);}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3){domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](sibling, container.nodeValue.length);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStartAfter': 'setEndAfter'](sibling);}return;}<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(sibling){textNodeOffset+=sibling.nodeValue.length;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(textNodeOffset &gt;=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>){container=sibling;textNodeOffset-=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>;break;}sibling=sibling.previousSibling;}}domRange[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'setStart': 'setEnd'](container, textNodeOffset);}<a class="el" href="jquery-1_89_81_8js.html#abe4cc9788f52e49485473dc699537388">try</a>{findEndPoint(true);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!collapsed){findEndPoint();}}<a class="el" href="jquery-1_89_81_8js.html#a5bf45fc51bc0426586792b5f9cb95431">catch</a>(ex){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(ex.number==-2147024809){bookmark=self.getBookmark(2);tmpRange=ieRange.duplicate();tmpRange.collapse(true);element=tmpRange.parentElement();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!collapsed){tmpRange=ieRange.duplicate();tmpRange.collapse(<a class="el" href="validate_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>);element2=tmpRange.parentElement();<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element2.innerHTML</a>=<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element2.innerHTML</a>;}<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element.innerHTML</a>=<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">element.innerHTML</a>;self.moveToBookmark(bookmark);ieRange=selection.getRng();findEndPoint(true);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!collapsed){findEndPoint();}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{throw ex;}}return domRange;}this.getBookmark=function(type){var rng=selection.getRng(), bookmark={};function getIndexes(node){var parent, <a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>, children, <a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>, indexes=[];parent=node.parentNode;<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>=dom.getRoot().parentNode;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(parent!=<a class="el" href="jquery_8mobile-1_83_81_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a> &amp;&amp;parent.nodeType!==9){children=parent.children;<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>=children.length;<a class="el" href="extras_2_scroller_2media_2data_2server__processing_8php.html#a83084cf6f83823d8593882985353708d">while</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>--){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(node===children[<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>]){<a class="el" href="core_8constructor_8js.html#afa3ccdb0f651abf66d93864fc8419c98">indexes.push</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>);break;}}node=parent;parent=parent.parentNode;}return indexes;}function getBookmarkEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var <a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>;<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>=getPosition(rng, <a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position</a>){return{<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">position:position.position</a>, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset:position.offset</a>, indexes:getIndexes(position.node), inside:position.inside};}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(type===2){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!rng.item){<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">bookmark.start</a>=getBookmarkEndPoint(true);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(!selection.isCollapsed()){bookmark.end=getBookmarkEndPoint();}}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">bookmark.start</a>={ctrl:true, indexes:getIndexes(rng.item(0))};}}return bookmark;};this.moveToBookmark=function(bookmark){var rng, body=dom.doc.body;function resolveIndexes(indexes){var node, <a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>, idx, children;node=dom.getRoot();<a class="el" href="tinymce_8jquery_8dev_8js.html#a4675a875b20881bc5f7011f49fbd4da7">for</a>(<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>=indexes.length-1;<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a> &gt;=0;<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>--){children=node.children;idx=indexes[<a class="el" href="validate_8js.html#a5e25b1d1bed9ab5f3174b76d6a722180">i</a>];<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(idx&lt;=children.length-1){node=children[idx];}}return node;}function setBookmarkEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var endPoint=bookmark[<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? '<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>': 'end'], moveLeft, moveRng, undef, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(endPoint){moveLeft=<a class="el" href="jquery-ui_8js.html#a5cd004409a854f3c106e2c3424b89292">endPoint.position</a> &gt; 0;moveRng=body.createTextRange();moveRng.moveToElementText(resolveIndexes(endPoint.indexes));<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">endPoint.offset</a>;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(offset!==undef){moveRng.collapse(endPoint.inside||moveLeft);moveRng.moveStart('character', moveLeft?-offset:offset);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{moveRng.collapse(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>);}rng.setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToStart', moveRng);<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){rng.collapse(true);}}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">bookmark.start</a>){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(bookmark.start.ctrl){rng=body.createControlRange();rng.addElement(resolveIndexes(bookmark.start.indexes));<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">rng.select</a>();}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{rng=body.createTextRange();setBookmarkEndPoint(true);setBookmarkEndPoint();<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">rng.select</a>();}}};this.addRange=function(rng){var ieRng, ctrlRng, startContainer, startOffset, endContainer, endOffset, sibling, <a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">doc</a>=<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">selection.dom.doc</a>, body=doc.body, nativeRng, ctrlElm;function setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>){var container, <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>, marker, tmpRng, nodes;marker=dom.create('<a class="el" href="media_2js_2jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a>');container=<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>?startContainer:endContainer;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>?startOffset:endOffset;tmpRng=ieRng.duplicate();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container==<a class="el" href="outside_events_8js.html#a6966a4bf23931ad4f323b1b8c1e1801f">doc</a>||container==doc.documentElement){container=body;<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>=0;}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.nodeType==3){<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">container.parentNode.insertBefore</a>(marker, container);tmpRng.moveToElementText(marker);tmpRng.moveStart('character', <a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(marker);ieRng.setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToEnd', tmpRng);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{nodes=container.childNodes;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nodes.length){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a> &gt;=nodes.length){dom.insertAfter(marker, nodes[nodes.length-1]);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{<a class="el" href="jquery-ui_8js.html#a98ab1c3e007c3b40a9abc7f02b656401">container.insertBefore</a>(marker, nodes[<a class="el" href="jquery-1_89_81_8js.html#a4a9f594d20d927164551fc7fa4751a2f">offset</a>]);}tmpRng.moveToElementText(marker);}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(container.canHaveHTML){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">container.innerHTML</a>= '&lt; span &gt; &amp;#xFEFF;&lt;/span &gt;';marker=container.firstChild;tmpRng.moveToElementText(marker);tmpRng.collapse(FALSE);}ieRng.setEndPoint(<a class="el" href="jquery-1_89_81_8js.html#aef10902ffededd983608fdb8dbfc441a">start</a>? 'StartToStart': 'EndToEnd', tmpRng);<a class="el" href="fullpage_2plugin_8min_8js.html#a3fe72a3812c61d06ea7c5cf2052f3dd2">dom.remove</a>(marker);}}startContainer=rng.startContainer;startOffset=rng.startOffset;endContainer=rng.endContainer;endOffset=rng.endOffset;ieRng=body.createTextRange();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startContainer==endContainer &amp;&amp;startContainer.nodeType==1){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startOffset==endOffset &amp;&amp;!startContainer.hasChildNodes()){<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startContainer.canHaveHTML){sibling=startContainer.previousSibling;<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(sibling &amp;&amp;!sibling.hasChildNodes()&amp;&amp;dom.isBlock(sibling)){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">sibling.innerHTML</a>= '&amp;#xFEFF;';}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{sibling=<a class="el" href="validate_8js.html#afb8e110345c45e74478894341ab6b28e">null</a>;}<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">startContainer.innerHTML</a>= '&lt; span &gt; &amp;#xFEFF;&lt;/span &gt;&lt; span &gt; &amp;#xFEFF;&lt;/span &gt;';ieRng.moveToElementText(startContainer.lastChild);<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">ieRng.select</a>();dom.doc.selection.clear();<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">startContainer.innerHTML</a>= '';<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(sibling){<a class="el" href="jquery-ui_8js.html#a87f73c4f0391c1cf9fe60374a76d9a7b">sibling.innerHTML</a>= '';}return;}<a class="el" href="jquery_8iframe-transport_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{startOffset=dom.nodeIndex(startContainer);startContainer=startContainer.parentNode;}}<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(startOffset==endOffset-1){<a class="el" href="jquery-1_89_81_8js.html#abe4cc9788f52e49485473dc699537388">try</a>{ctrlElm=startContainer.childNodes[startOffset];ctrlRng=body.createControlRange();ctrlRng.addElement(ctrlElm);<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">ctrlRng.select</a>();nativeRng=selection.getRng();<a class="el" href="fullpage_2plugin_8js.html#a8b98017e64ef036adb9ae327ff94abe1">if</a>(nativeRng.item &amp;&amp;ctrlElm===nativeRng.item(0)){return;}}<a class="el" href="jquery-1_89_81_8js.html#a5bf45fc51bc0426586792b5f9cb95431">catch</a>(ex){}}}setEndPoint(true);setEndPoint();<a class="el" href="validate_8js.html#a107b4864f70df98ef4a521c0b2bc80c7">ieRng.select</a>();};this.getRangeAt=getRange;}return Selection;}&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 13 2014 13:09:12 for singerfrance.com by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
