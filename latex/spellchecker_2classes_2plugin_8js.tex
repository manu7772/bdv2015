\hypertarget{spellchecker_2classes_2plugin_8js}{\section{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/plugins/spellchecker/classes/\+Plugin.js File Reference}
\label{spellchecker_2classes_2plugin_8js}\index{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/plugins/spellchecker/classes/\+Plugin.\+js@{src/\+Acme\+Group/\+Labo\+Bundle/\+Resources/public/js/tinymce/plugins/spellchecker/classes/\+Plugin.\+js}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{spellchecker_2classes_2plugin_8js_a9ad23a852b16ba47d0be172ef09f1264}{define} (\char`\"{}tinymce/spellcheckerplugin/Plugin\char`\"{}, \mbox{[}\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/spellcheckerplugin/Dom\+Text\+Matcher\char`\"{},\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/Plugin\+Manager\char`\"{},\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/util/Tools\char`\"{},\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/\hyperlink{jquery-ui_8js_ac492f8de2d00b6c4282e766bfadaf2e7}{ui}/Menu\char`\"{},\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/dom/D\+O\+M\+Utils\char`\"{},\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/util/J\+S\+O\+N\+Request\char`\"{},\char`\"{}\hyperlink{legacyoutput_2plugin_8min_8js_a9e0c63e13122add16db57b355b91bbc8}{tinymce}/util/U\+R\+I\char`\"{}\mbox{]}, function(Dom\+Text\+Matcher, Plugin\+Manager, Tools, Menu, D\+O\+M\+Utils, J\+S\+O\+N\+Request, U\+R\+I)\{\hyperlink{theme_8min_8js_a1833965973c7833716346fa64230bb38}{Plugin\+Manager.\+add}('spellchecker', function(editor, url)\{var last\+Suggestions, started, suggestions\+Menu, \hyperlink{jquery_8tooltip_8js_a52fb9116a07f71570fbf0bd12ff4c9f8}{settings}=\hyperlink{jquery_8tooltip_8js_a52fb9116a07f71570fbf0bd12ff4c9f8}{editor.\+settings};function is\+Empty(obj)\{\hyperlink{tinymce_8jquery_8dev_8js_a4675a875b20881bc5f7011f49fbd4da7}{for}(var name in obj)\{return \hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false};\}return true;\}function show\+Suggestions(target, word)\{var items=\mbox{[}$\,$\mbox{]}, suggestions=last\+Suggestions\mbox{[}word\mbox{]};\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{Tools.\+each}(suggestions, function(suggestion)\{\hyperlink{core_8constructor_8js_afa3ccdb0f651abf66d93864fc8419c98}{items.\+push}(\{text\+:suggestion, onclick\+:function()\{editor.\+insert\+Content(suggestion);check\+If\+Finished();\}\});\});items.\+push.\+apply(items, \mbox{[}\{text\+: '-\/'\},\{text\+: 'Ignore', onclick\+:function()\{ignore\+Word(target, word);\}\},\{text\+: 'Ignore all', onclick\+:function()\{ignore\+Word(target, word, true);\}\},\{text\+: 'Finish', onclick\+:finish\}\mbox{]});suggestions\+Menu=new Menu(\{items\+:items, context\+: 'contextmenu', onautohide\+:function(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(e.\+target.\+class\+Name.\+index\+Of('spellchecker')!=-\/1)\{e.\+prevent\+Default();\}\}, onhide\+:function()\{\hyperlink{fullpage_2plugin_8min_8js_a3fe72a3812c61d06ea7c5cf2052f3dd2}{suggestions\+Menu.\+remove}();suggestions\+Menu=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\}\});suggestions\+Menu.\+render\+To(document.\+body);var pos=D\+O\+M\+Utils.\+D\+O\+M.\+get\+Pos(editor.\+get\+Content\+Area\+Container());var target\+Pos=editor.\+dom.\+get\+Pos(target);pos.\+x+=target\+Pos.\+x;pos.\+y+=target\+Pos.\+y;suggestions\+Menu.\+move\+To(pos.\+x, pos.\+y+target.\+offset\+Height);\}function spellcheck()\{var text\+Filter, words=\mbox{[}$\,$\mbox{]}, unique\+Words=\{\};\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(started)\{finish();return;\}started=true;function done\+Callback(suggestions)\{editor.\+set\+Progress\+State(\hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false});\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(is\+Empty(suggestions))\{editor.\+window\+Manager.\+alert('No misspellings found');started=\hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false};return;\}last\+Suggestions=suggestions;text\+Filter.\+filter(function(match)\{return!!suggestions\mbox{[}match\mbox{[}2\mbox{]}\mbox{[}0\mbox{]}\mbox{]};\}).mark(editor.\+dom.\+create('span',\{\char`\"{}class\char`\"{}\+: 'mce-\/spellchecker-\/word',\char`\"{}data-\/mce-\/bogus\char`\"{}\+:1\}));text\+Filter=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\hyperlink{_format_controls_8js_acd7a0915b5228909cee16d24a676911c}{editor.\+fire}('Spellcheck\+Start');\}var non\+Word\+Separator\+Characters=\hyperlink{mctabs_8js_a176699320fa47311b5bcb108b79b2285}{editor.\+get\+Param}('spellchecker\+\_\+wordchar\+\_\+pattern')$\vert$$\vert$new Reg\+Exp(\char`\"{}\mbox{[}$^\wedge$\char`\"{}+\char`\"{}\textbackslash{}\textbackslash{}s!\textbackslash{}\char`\"{}\#\$\%\&()$\ast$+,-\/./\+:;$<$=$>$?@\mbox{[}\textbackslash{}\textbackslash{}\mbox{]}$^\wedge$\+\_\+\{$\vert$\}`\char`\"{}+\char`\"{}\textbackslash{}u00a7\textbackslash{}u00a9\textbackslash{}u00ab\textbackslash{}u00ae\textbackslash{}u00b1\textbackslash{}u00b6\textbackslash{}u00b7\textbackslash{}u00b8\textbackslash{}u00bb\char`\"{}+\char`\"{}\textbackslash{}u00bc\textbackslash{}u00bd\textbackslash{}u00be\textbackslash{}u00bf\textbackslash{}u00d7\textbackslash{}u00f7\textbackslash{}u00a4\textbackslash{}u201d\textbackslash{}u201c\textbackslash{}u201e\char`\"{}+\char`\"{}\mbox{]}+\char`\"{},\char`\"{}\hyperlink{fullpage_2plugin_8min_8js_a103df269476e78897c9c4c6cb8f4eb06}{g}\char`\"{});text\+Filter=new Dom\+Text\+Matcher(non\+Word\+Separator\+Characters, editor.\+get\+Body(), editor.\+schema).\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{each}(function(match)\{var word=match\mbox{[}2\mbox{]}\mbox{[}0\mbox{]};\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(!unique\+Words\mbox{[}word\mbox{]})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(/$^\wedge$\textbackslash{}\hyperlink{fullpage_2plugin_8min_8js_a86138ad7596633fd5f960ad9c40f8862}{d}+\$/.test(word)$\vert$$\vert$word.\+length==1)\{return;\}\hyperlink{core_8constructor_8js_afa3ccdb0f651abf66d93864fc8419c98}{words.\+push}(word);unique\+Words\mbox{[}word\mbox{]}=true;\}\});function default\+Spellcheck\+Callback(method, words, done\+Callback)\{J\+S\+O\+N\+Request.\+send\+R\+P\+C(\{url\+:new U\+R\+I(url).to\+Absolute(settings.\+spellchecker\+\_\+rpc\+\_\+url), method\+:method, params\+:\{lang\+:settings.\+spellchecker\+\_\+language$\vert$$\vert$\char`\"{}en\char`\"{}, words\+:words\}, success\+:function(result)\{done\+Callback(result);\}, error\+:function(error, \hyperlink{jquery-1_89_81_8js_a0b7a5cb538ca9913b1b3b1c807ad06f0}{xhr})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(error==\char`\"{}J\+S\+O\+N Parse error.\char`\"{})\{error=\char`\"{}Non J\+S\+O\+N response\+:\char`\"{}+xhr.\+response\+Text;\}\hyperlink{jquery_8iframe-transport_8js_a0544c3fe466e421738dae463968b70ba}{else}\{error=\char`\"{}Error\+: \char`\"{}+error;\}editor.\+window\+Manager.\+alert(error);editor.\+set\+Progress\+State(\hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false});text\+Filter=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};started=\hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false};\}\});\}editor.\+set\+Progress\+State(true);var spell\+Check\+Callback=settings.\+spellchecker\+\_\+callback$\vert$$\vert$default\+Spellcheck\+Callback;spell\+Check\+Callback(\char`\"{}spellcheck\char`\"{}, words, done\+Callback);\}function check\+If\+Finished()\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(!\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{editor.\+dom.\+select}('span.\+mce-\/spellchecker-\/word').length)\{finish();\}\}function unwrap(node)\{var parent\+Node=node.\+parent\+Node;\hyperlink{jquery-ui_8js_a98ab1c3e007c3b40a9abc7f02b656401}{parent\+Node.\+insert\+Before}(node.\+first\+Child, node);\hyperlink{jquery-ui_8js_ab13208bd0b29533656fdd9fdfc2de509}{node.\+parent\+Node.\+remove\+Child}(node);\}function ignore\+Word(target, word, all)\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(all)\{\hyperlink{fullpage_2plugin_8min_8js_a536422939f8cd6b5867a8fb424c3c02e}{Tools.\+each}(\hyperlink{validate_8js_a107b4864f70df98ef4a521c0b2bc80c7}{editor.\+dom.\+select}('span.\+mce-\/spellchecker-\/word'), function(item)\{var text=item.\+inner\+Text$\vert$$\vert$item.\+text\+Content;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(text==word)\{unwrap(item);\}\});\}\hyperlink{jquery_8iframe-transport_8js_a0544c3fe466e421738dae463968b70ba}{else}\{unwrap(target);\}check\+If\+Finished();\}function finish()\{var \hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}, nodes, node;started=\hyperlink{validate_8js_a5df37b7f02e5cdc7d9412b7f872b8e01}{false};node=editor.\+get\+Body();nodes=node.\+get\+Elements\+By\+Tag\+Name('span');\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}=nodes.\+length;\hyperlink{extras_2_scroller_2media_2data_2server__processing_8php_a83084cf6f83823d8593882985353708d}{while}(\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}-\/-\/)\{node=nodes\mbox{[}\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}\mbox{]};\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(node.\+get\+Attribute('\hyperlink{fullpage_2plugin_8js_a718c1bf5a3bf21ebb980203b142e5b75}{data}-\/mce-\/index'))\{unwrap(node);\}\}\hyperlink{_format_controls_8js_acd7a0915b5228909cee16d24a676911c}{editor.\+fire}('Spellcheck\+End');\}function select\+Match(index)\{var nodes, \hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}, span\+Elm, span\+Index=-\/1, start\+Container, end\+Container;index=\char`\"{}\char`\"{}+index;nodes=editor.\+get\+Body().get\+Elements\+By\+Tag\+Name(\char`\"{}span\char`\"{});for(\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}=0;\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}$<$ nodes.\+length;\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}++)\{span\+Elm=nodes\mbox{[}\hyperlink{validate_8js_a5e25b1d1bed9ab5f3174b76d6a722180}{i}\mbox{]};\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(\hyperlink{validate_8js_abbe788cfd8330266bd93d69ea395d1d0}{span\+Elm.\+class\+Name}==\char`\"{}mce-\/spellchecker-\/word\char`\"{})\{span\+Index=span\+Elm.\+get\+Attribute('\hyperlink{fullpage_2plugin_8js_a718c1bf5a3bf21ebb980203b142e5b75}{data}-\/mce-\/index');\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(span\+Index===index)\{span\+Index=index;\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(!start\+Container)\{start\+Container=span\+Elm.\+first\+Child;\}end\+Container=span\+Elm.\+first\+Child;\}\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(span\+Index!==index \&\&end\+Container)\{break;\}\}\}var rng=editor.\+dom.\+create\+Rng();rng.\+set\+Start(start\+Container, 0);rng.\+set\+End(end\+Container, end\+Container.\+length);editor.\+selection.\+set\+Rng(rng);return rng;\}\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('click', function(\hyperlink{validate_8js_acafd152b1d81d2bd0f5775007db75586}{e})\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(\hyperlink{validate_8js_abbe788cfd8330266bd93d69ea395d1d0}{e.\+target.\+class\+Name}==\char`\"{}mce-\/spellchecker-\/word\char`\"{})\{e.\+prevent\+Default();var rng=select\+Match(e.\+target.\+get\+Attribute('\hyperlink{fullpage_2plugin_8js_a718c1bf5a3bf21ebb980203b142e5b75}{data}-\/mce-\/index'));show\+Suggestions(e.\+target, rng.\+to\+String());\}\});\hyperlink{fullpage_2plugin_8min_8js_a0f87fa0589e24d2778208f3e61ea1a10}{editor.\+add\+Menu\+Item}('spellchecker',\{text\+: 'Spellcheck', context\+: 'tools', onclick\+:spellcheck, selectable\+:true, on\+Post\+Render\+:function()\{var self=\hyperlink{tinymce_8jquery_8dev_8js_a05c09a5e9d53fa7adf0a7936038c2fa3}{this};\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('Spellcheck\+Start Spellcheck\+End', function()\{self.\+active(started);\});\}\});\hyperlink{fullpage_2plugin_8min_8js_aaae28359b3a3a6d0ae04231039eb7f9e}{editor.\+add\+Button}('spellchecker',\{tooltip\+: 'Spellcheck', onclick\+:spellcheck, on\+Post\+Render\+:function()\{var self=\hyperlink{tinymce_8jquery_8dev_8js_a05c09a5e9d53fa7adf0a7936038c2fa3}{this};\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('Spellcheck\+Start Spellcheck\+End', function()\{self.\+active(started);\});\}\});\hyperlink{fullpage_2plugin_8min_8js_a1cfa98b7fed2aaf9fee3b68dbb7f9497}{editor.\+on}('\hyperlink{fullpage_2plugin_8min_8js_a3fe72a3812c61d06ea7c5cf2052f3dd2}{remove}', function()\{\hyperlink{fullpage_2plugin_8js_a8b98017e64ef036adb9ae327ff94abe1}{if}(suggestions\+Menu)\{\hyperlink{fullpage_2plugin_8min_8js_a3fe72a3812c61d06ea7c5cf2052f3dd2}{suggestions\+Menu.\+remove}();suggestions\+Menu=\hyperlink{validate_8js_afb8e110345c45e74478894341ab6b28e}{null};\}\});\});\})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{spellchecker_2classes_2plugin_8js_a9ad23a852b16ba47d0be172ef09f1264}{\index{spellchecker/classes/plugin.\+js@{spellchecker/classes/plugin.\+js}!define@{define}}
\index{define@{define}!spellchecker/classes/plugin.\+js@{spellchecker/classes/plugin.\+js}}
\subsubsection[{define}]{\setlength{\rightskip}{0pt plus 5cm}define (
\begin{DoxyParamCaption}
\item[{\char`\"{}tinymce/spellcheckerplugin/Plugin\char`\"{}}]{, }
\item[{function(Dom\+Text\+Matcher, Plugin\+Manager, Tools, Menu, D\+O\+M\+Utils, J\+S\+O\+N\+Request, U\+R\+I)\{{\bf Plugin\+Manager.\+add}('spellchecker', function(editor, url)\{var last\+Suggestions, started, suggestions\+Menu, {\bf settings}={\bf editor.\+settings};function is\+Empty(obj)\{{\bf for}(var name in obj)\{return {\bf false};\}return true;\}function show\+Suggestions(target, word)\{var items=\mbox{[}$\,$\mbox{]}, suggestions=last\+Suggestions\mbox{[}word\mbox{]};{\bf Tools.\+each}(suggestions, function(suggestion)\{{\bf items.\+push}(\{text\+:suggestion, onclick\+:function()\{editor.\+insert\+Content(suggestion);check\+If\+Finished();\}\});\});items.\+push.\+apply(items, \mbox{[}\{text\+: '-\/'\},\{text\+: 'Ignore', onclick\+:function()\{ignore\+Word(target, word);\}\},\{text\+: 'Ignore all', onclick\+:function()\{ignore\+Word(target, word, true);\}\},\{text\+: 'Finish', onclick\+:finish\}\mbox{]});suggestions\+Menu=new Menu(\{items\+:items, context\+: 'contextmenu', onautohide\+:function({\bf e})\{{\bf if}(e.\+target.\+class\+Name.\+index\+Of('spellchecker')!=-\/1)\{e.\+prevent\+Default();\}\}, onhide\+:function()\{{\bf suggestions\+Menu.\+remove}();suggestions\+Menu={\bf null};\}\});suggestions\+Menu.\+render\+To(document.\+body);var pos=D\+O\+M\+Utils.\+D\+O\+M.\+get\+Pos(editor.\+get\+Content\+Area\+Container());var target\+Pos=editor.\+dom.\+get\+Pos(target);pos.\+x+=target\+Pos.\+x;pos.\+y+=target\+Pos.\+y;suggestions\+Menu.\+move\+To(pos.\+x, pos.\+y+target.\+offset\+Height);\}function spellcheck()\{var text\+Filter, words=\mbox{[}$\,$\mbox{]}, unique\+Words=\{\};{\bf if}(started)\{finish();return;\}started=true;function done\+Callback(suggestions)\{editor.\+set\+Progress\+State({\bf false});{\bf if}(is\+Empty(suggestions))\{editor.\+window\+Manager.\+alert('No misspellings found');started={\bf false};return;\}last\+Suggestions=suggestions;text\+Filter.\+filter(function(match)\{return!!suggestions\mbox{[}match\mbox{[}2\mbox{]}\mbox{[}0\mbox{]}\mbox{]};\}).mark(editor.\+dom.\+create('span',\{\char`\"{}class\char`\"{}\+: 'mce-\/spellchecker-\/word',\char`\"{}data-\/mce-\/bogus\char`\"{}\+:1\}));text\+Filter={\bf null};{\bf editor.\+fire}('Spellcheck\+Start');\}var non\+Word\+Separator\+Characters={\bf editor.\+get\+Param}('spellchecker\+\_\+wordchar\+\_\+pattern')$\vert$$\vert$new Reg\+Exp(\char`\"{}\mbox{[}$^\wedge$\char`\"{}+\char`\"{}\textbackslash{}\textbackslash{}s!\textbackslash{}\char`\"{}\#\$\%\&()$\ast$+,-\/./\+:;$<$=$>$?@\mbox{[}\textbackslash{}\textbackslash{}\mbox{]}$^\wedge$\+\_\+\{$\vert$\}`\char`\"{}+\char`\"{}\textbackslash{}u00a7\textbackslash{}u00a9\textbackslash{}u00ab\textbackslash{}u00ae\textbackslash{}u00b1\textbackslash{}u00b6\textbackslash{}u00b7\textbackslash{}u00b8\textbackslash{}u00bb\char`\"{}+\char`\"{}\textbackslash{}u00bc\textbackslash{}u00bd\textbackslash{}u00be\textbackslash{}u00bf\textbackslash{}u00d7\textbackslash{}u00f7\textbackslash{}u00a4\textbackslash{}u201d\textbackslash{}u201c\textbackslash{}u201e\char`\"{}+\char`\"{}\mbox{]}+\char`\"{},\char`\"{}{\bf g}\char`\"{});text\+Filter=new Dom\+Text\+Matcher(non\+Word\+Separator\+Characters, editor.\+get\+Body(), editor.\+schema).{\bf each}(function(match)\{var word=match\mbox{[}2\mbox{]}\mbox{[}0\mbox{]};{\bf if}(!unique\+Words\mbox{[}word\mbox{]})\{{\bf if}(/$^\wedge$\textbackslash{}{\bf d}+\$/.test(word)$\vert$$\vert$word.\+length==1)\{return;\}{\bf words.\+push}(word);unique\+Words\mbox{[}word\mbox{]}=true;\}\});function default\+Spellcheck\+Callback(method, words, done\+Callback)\{J\+S\+O\+N\+Request.\+send\+R\+P\+C(\{url\+:new U\+R\+I(url).to\+Absolute(settings.\+spellchecker\+\_\+rpc\+\_\+url), method\+:method, params\+:\{lang\+:settings.\+spellchecker\+\_\+language$\vert$$\vert$\char`\"{}en\char`\"{}, words\+:words\}, success\+:function(result)\{done\+Callback(result);\}, error\+:function(error, {\bf xhr})\{{\bf if}(error==\char`\"{}J\+S\+O\+N Parse error.\char`\"{})\{error=\char`\"{}Non J\+S\+O\+N response\+:\char`\"{}+xhr.\+response\+Text;\}{\bf else}\{error=\char`\"{}Error\+: \char`\"{}+error;\}editor.\+window\+Manager.\+alert(error);editor.\+set\+Progress\+State({\bf false});text\+Filter={\bf null};started={\bf false};\}\});\}editor.\+set\+Progress\+State(true);var spell\+Check\+Callback=settings.\+spellchecker\+\_\+callback$\vert$$\vert$default\+Spellcheck\+Callback;spell\+Check\+Callback(\char`\"{}spellcheck\char`\"{}, words, done\+Callback);\}function check\+If\+Finished()\{{\bf if}(!{\bf editor.\+dom.\+select}('span.\+mce-\/spellchecker-\/word').length)\{finish();\}\}function unwrap(node)\{var parent\+Node=node.\+parent\+Node;{\bf parent\+Node.\+insert\+Before}(node.\+first\+Child, node);{\bf node.\+parent\+Node.\+remove\+Child}(node);\}function ignore\+Word(target, word, all)\{{\bf if}(all)\{{\bf Tools.\+each}({\bf editor.\+dom.\+select}('span.\+mce-\/spellchecker-\/word'), function(item)\{var text=item.\+inner\+Text$\vert$$\vert$item.\+text\+Content;{\bf if}(text==word)\{unwrap(item);\}\});\}{\bf else}\{unwrap(target);\}check\+If\+Finished();\}function finish()\{var {\bf i}, nodes, node;started={\bf false};node=editor.\+get\+Body();nodes=node.\+get\+Elements\+By\+Tag\+Name('span');{\bf i}=nodes.\+length;{\bf while}({\bf i}-\/-\/)\{node=nodes\mbox{[}{\bf i}\mbox{]};{\bf if}(node.\+get\+Attribute('{\bf data}-\/mce-\/index'))\{unwrap(node);\}\}{\bf editor.\+fire}('Spellcheck\+End');\}function select\+Match(index)\{var nodes, {\bf i}, span\+Elm, span\+Index=-\/1, start\+Container, end\+Container;index=\char`\"{}\char`\"{}+index;nodes=editor.\+get\+Body().get\+Elements\+By\+Tag\+Name(\char`\"{}span\char`\"{});for({\bf i}=0;{\bf i}$<$ nodes.\+length;{\bf i}++)\{span\+Elm=nodes\mbox{[}{\bf i}\mbox{]};{\bf if}({\bf span\+Elm.\+class\+Name}==\char`\"{}mce-\/spellchecker-\/word\char`\"{})\{span\+Index=span\+Elm.\+get\+Attribute('{\bf data}-\/mce-\/index');{\bf if}(span\+Index===index)\{span\+Index=index;{\bf if}(!start\+Container)\{start\+Container=span\+Elm.\+first\+Child;\}end\+Container=span\+Elm.\+first\+Child;\}{\bf if}(span\+Index!==index \&\&end\+Container)\{break;\}\}\}var rng=editor.\+dom.\+create\+Rng();rng.\+set\+Start(start\+Container, 0);rng.\+set\+End(end\+Container, end\+Container.\+length);editor.\+selection.\+set\+Rng(rng);return rng;\}{\bf editor.\+on}('click', function({\bf e})\{{\bf if}({\bf e.\+target.\+class\+Name}==\char`\"{}mce-\/spellchecker-\/word\char`\"{})\{e.\+prevent\+Default();var rng=select\+Match(e.\+target.\+get\+Attribute('{\bf data}-\/mce-\/index'));show\+Suggestions(e.\+target, rng.\+to\+String());\}\});{\bf editor.\+add\+Menu\+Item}('spellchecker',\{text\+: 'Spellcheck', context\+: 'tools', onclick\+:spellcheck, selectable\+:true, on\+Post\+Render\+:function()\{var self={\bf this};{\bf editor.\+on}('Spellcheck\+Start Spellcheck\+End', function()\{self.\+active(started);\});\}\});{\bf editor.\+add\+Button}('spellchecker',\{tooltip\+: 'Spellcheck', onclick\+:spellcheck, on\+Post\+Render\+:function()\{var self={\bf this};{\bf editor.\+on}('Spellcheck\+Start Spellcheck\+End', function()\{self.\+active(started);\});\}\});{\bf editor.\+on}('{\bf remove}', function()\{{\bf if}(suggestions\+Menu)\{{\bf suggestions\+Menu.\+remove}();suggestions\+Menu={\bf null};\}\});\});\}}]{}
\end{DoxyParamCaption}
)}}\label{spellchecker_2classes_2plugin_8js_a9ad23a852b16ba47d0be172ef09f1264}
